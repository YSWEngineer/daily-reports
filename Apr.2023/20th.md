# 2023/04/20(木) 日報
## 取り組んだ課題
- Progate Ruby on Rails5 Ⅷ
  - 12.ログインしていない場合のアクセス制限 ~ 最後まで
- Progate Ruby on Rails5 

## 分かったこと・気付き
- テーブルにカラムを追加する際にマイグレーションファイルのみを作成したファイル名は自由に指定できるが、追加するカラム名を含めたりするなど、わかりやすい名前が望ましい。
  - 作成したファイルの先頭には作成日時が追加される。
- `rails g migration ファイル名` ：マイグレーションファイルのみ作成。
- マイグレーションファイルのみで作成されたマイグレーションファイルにはテーブルに変更を加えるための指示が書かれていないので、マイグレーションファイルとして完成してはいない。
  - テーブルに変更を加えるには、マイグレーションファイルの中の `changeメソッド` の中に変更内容を書く必要がある。
- `rails db:migrate` コマンドは、changeメソッドの中身を実行するためのコマンド。
- 自分でchangeメソッドの中身を書く場合：`add_column :テーブル名, :カラム名, :データ型`　とする。※changeメソッドの中身を追加したら、`rails db:migrate` でデータベースに変更を反映させること。
- `add_column` ：カラムを追加。
- `<input>タグ` に `type="file"` を追加すると、画像ファイルを選択するボタンを表示できる。
- 画像の送信は特殊で、送信したいときは `multipart: true` を付ける必要がある。
  - その際、引数が複数ある場合は、カンマ（,）でちゃんと区切ること。
- Rubyのコードでファイルを扱うには、Fileクラスを用いる。
- ファイルを作成するためには、Fileクラスの `writeメソッド` を使う。
  - `File.write(ファイルの場所, ファイルの中身)` で、ファイルを作成することができる。
  - `File.write` の時には `public` を指定している。
- 画像を保存するには、画像データをもとに画像ファイルを作成する必要がある。
- 画像データは特殊なテキストファイルなので、File.writeではなく、`File.binwrite` を用いる。
- ログイン：サイトを操作しているユーザーが誰であるかが判別できる状態のこと。
- ログインの流れ：ログインページからメースアドレスやパスワードなどの情報をRailsに送信し、送信された情報をもとに操作しているユーザーを特定し、ログイン状態とする。
- <input>タグのtype属性を `password` にすると入力したパスワードが伏せ字になる。
- ルーティングをgetではなく、postにする時
  - createアクションのようにデータベースに変更を加える場合
  - フォームの値を受け取る場合
  - destroyアクションの場合
- getとpostの使い分け
  - get:データベースを変更しないアクション
  - post:データベースを変更するアクション
- ログインの際は `変数session` にログインするユーザーのidを代入したことで、ログイン状態を保つことができる。
- ログアウトはログインの逆。変数のsessionのuser_idの値を削除してしまうこと。

## 次の目標
- Progate Ruby on Rails5 Ⅷ 修了

## 感じたこと
- 本日学習した箇所は覚える量が多い、といった印象でした。日報やNotionにまとめていますので、一度で全てを覚えようとはせずに何度も読み返して理解と記憶を行いたいと思っています。

## 学習時間
- Today:&nbsp;&nbsp;&nbsp;4 hours 30 min
- Total: 104 hours 21 min
