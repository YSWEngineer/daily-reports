# 2024/12/10(火)

## 📚 プラクティス『ボウリングのスコア計算プログラム』


### 🧩 タスクばらし
- [x] ボウリングのルールを知る
- [x] 各参考ページを確認
- [ ] ボウリングのスコア計算プログラムを作成
- [ ] 課題提出


### 🐾 スモールステップ
<details><summary>ボウリングのルールを知る</summary>

- [x] ルール詳細を確認
</details>

<details><summary>各参考ページを確認</summary>

- [x] [Docs: 「新ルール（カレントフレームシステム）」のボウリングのスコア計算プログラムの書き方](https://bootcamp.fjord.jp/pages/249)
- [x] [Docs: ボウリングのルールとスコアの付け方](https://bootcamp.fjord.jp/pages/619)
- [x] [プログラミングでよく使う英単語のまとめ【随時更新】 - Qiita](https://qiita.com/Ted-HM/items/7dde25dcffae4cdc7923)
</details>

<details><summary>ボウリングのスコア計算プログラムを作成</summary>

- [ ] ボウリングのスコア計算プログラムを作成
</details>

<details><summary>課題提出</summary>

- [ ] ボウリングのスコア計算プログラムに rubocop-fjord を通す
- [ ] ボウリングのスコア計算プログラムを Pull Request として提出
- [ ] 提出物作成・メンターさんへの提出
   - [ ] Pull Request の URL を貼り付ける
   - [ ] Terminal で実行した結果を**テキスト**で提出物本文に貼り付ける
   - [ ] 「プログラム実行の例」にある入力例全て実行結果をスクリーンショットで貼り付ける
   - [ ] rubocop-fjord のチェックが全てパスした内容をスクリーンショットで貼り付ける
</details>


------------


### 🧑🏻‍💻 本日の取り組み
#### プラクティス『ボウリングのスコア計算プログラム』
- 各参考ページを確認
   - [Docs: 「新ルール（カレントフレームシステム）」のボウリングのスコア計算プログラムの書き方](https://bootcamp.fjord.jp/pages/249)
   - [Docs: ボウリングのルールとスコアの付け方](https://bootcamp.fjord.jp/pages/619)
   - [プログラミングでよく使う英単語のまとめ【随時更新】 - Qiita](https://qiita.com/Ted-HM/items/7dde25dcffae4cdc7923)


### 🎯 次回
#### プラクティス『ボウリングのスコア計算プログラム』
- ボウリングのスコア計算プログラムを作成
   

------------


### 💡 本日の学び・気付き
### Docs: 「新ルール（カレントフレームシステム）」のボウリングのスコア計算プログラムの書き方
#### スペア分とストライク分を加算する
```ruby
#!/usr/bin/env ruby

score = ARGV[0]
scores = score.split(',')
shots = []
scores.each do |s|
  if s == 'X'
    shots << 10
    shots << 0
  else
    shots << s.to_i
  end
end

frames = []
shots.each_slice(2) do |s|
  frames << s
end

point = 0
frames.each do |frame|
  if frame[0] == 10 # strike
    point += 30
  elsif frame.sum == 10 # spare
    point += frame[0] + 10
  else
    point += frame.sum
  end
end
puts point
```
```shell
% ./bowling.rb 6,3,9,0,0,3,8,2,7,3,X,9,1,8,0,X,6,4
159
```
`point = 0`
- スコアの合計を格納する変数`point`を初期化する。
##### 変数の初期化
1. 変数の宣言と初期化
- `point`という名前の変数を宣言している。
- `=`を使って、その変数に初期値として`0`を設定している。
- そもそも変数とは、データを格納するための「箱」のようなもの。
2. 初期値の設定
- 初期化とは、変数に最初の値を設定すること。
- `point = 0`は、スコアの合計を計算するために使う変数`point`を`0`からスタートさせるという意味。
3. なぜ初期化が必要か？
- スコアを計算し始める前に、合計値を`0`に設定する必要がある。これは、計算を始めるための基点を設定するため。例えば、財布の中にお金を入れる前に中身が0円であることを確認するようなもの。
4. 合計の計算
- スコアの合計を計算する場合、最初にその合計を保存する変数を`0`に設定するのが一般的。これにより、何も加算されていない状態から計算が始まる。

まとめると、`point = 0`は、スコアの合計を計算するために必要な変数を初期化し、計算の基点を`0`に設定する重要なステップ。

##### 初期化と初期値
**初期化**
変数やデータ構造を最初に設定することを指す。初期化は、プログラムが変数やデータ構造を使用する前に必ず行うべき手順。初期化により、変数やデータ構造が適切な状態からスタートできるようになる。

例）
- `frames = []`：ここで配列`frames`を初期化し、空の配列として設定する。
- `point = 0`：ここで変数`point`を初期化し、最初の値として`0`を設定する。

**初期値**
初期化された変数やデータ構造に設定される最初の値のこと。初期値は変数やデータ構造が初めて使用されるときの基準となる値。

例）
- `point = 0`の`0`が変数`point`の初期値。
```ruby
# 初期化の例
score = 0                # 変数scoreの初期化（初期値は0）
names = []               # 配列namesの初期化（初期値は空の配列）

# 初期値の例
score = 0                # 0がscore変数の初期値
names = ["Yoshiwo"]      # ["Yoshiwo"]がnames配列の初期値
```
`frames.each do |frame|`
- 配列`frames`の各フレームに対して処理を行う。

`if frame[0] == 10 # strike`
- フレームの最初のスコアが10（ストライク）の場合。

`point += 30`
- ストライクのボーナススコア30点を加算する。

`elsif frame.sum == 10 # spare`
- フレームの合計が10（スペア）の場合。

`point += frame[0] + 10`
- スペアのボーナススコアとして最初の投球スコアに10点を加算。

`else`
- それ以外の場合。

`point += frame.sum`
- フレーム内のスコアの合計を加算。


------------


### ✍🏻 感想
#### 🧑🏻‍💻 新ルールから旧ルールへ
- **新ルールのコードを一行ずつ言語化**：これにより、コードの各部分がどのように機能しているかを理解できるようになってきました。
- **旧ルールへの書き換え**：この部分が最も難しいところです。悩んでいても仕方がないのでタスクばらしを作成しました。

**タスクばらし**
1. shebang行とコマンドライン引数の取得。
2. スコア文字列を分割して、`shots`に変換。
3. `frames`の作成。
4. `point`の計算。
5. 得点の表示。

次は、このタスクを一つひとつスモールステップとして細かく刻んでいこうと考えています。うーん......難しいですね。私にできるのか？やるしかない！


------------


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp; 7 hours 00 min
- Total: 765 hours 54 min
