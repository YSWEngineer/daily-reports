# 2024/12/23(月)

## 📚 プラクティス『ボウリングのスコア計算プログラム』


## 🧩 タスクばらし
- [x] ボウリングのルールを知る
- [x] 各参考ページを確認
- [ ] ボウリングのスコア計算プログラムを作成
- [ ] 課題提出


## 🐾 スモールステップ
<details><summary>ボウリングのルールを知る</summary>

- [x] ルール詳細を確認
</details>

<details><summary>各参考ページを確認</summary>

- [x] [Docs: 「新ルール（カレントフレームシステム）」のボウリングのスコア計算プログラムの書き方](https://bootcamp.fjord.jp/pages/249)
- [x] [Docs: ボウリングのルールとスコアの付け方](https://bootcamp.fjord.jp/pages/619)
- [x] [プログラミングでよく使う英単語のまとめ【随時更新】 - Qiita](https://qiita.com/Ted-HM/items/7dde25dcffae4cdc7923)
</details>

<details><summary>ボウリングのスコア計算プログラムを作成</summary>

- [ ] ボウリングのスコア計算プログラムを作成
</details>

<details><summary>課題提出</summary>

- [ ] ボウリングのスコア計算プログラムに rubocop-fjord を通す
- [ ] ボウリングのスコア計算プログラムを Pull Request として提出
- [ ] 提出物作成・メンターさんへの提出
   - [ ] Pull Request の URL を貼り付ける
   - [ ] Terminal で実行した結果を**テキスト**で提出物本文に貼り付ける
   - [ ] 「プログラム実行の例」にある入力例全て実行結果をスクリーンショットで貼り付ける
   - [ ] rubocop-fjord のチェックが全てパスした内容をスクリーンショットで貼り付ける
</details>


------------


## 🧑🏻‍💻 本日の取り組み
### プラクティス『ボウリングのスコア計算プログラム』
- ボウリングのスコア計算プログラムを作成
   - 作成したコードをリファクタリングする

## 🎯 次回
### プラクティス『ボウリングのスコア計算プログラム』
- ボウリングのスコア計算プログラムを作成
   - 作成したコードをリファクタリングする
   

------------


## 💡 本日の学び・気付き
### リファクタリング
<details><summary>⚠️ ネタバレ注意</summary>

#### 不要な変数を減らす
```ruby
score = ARGV[0]
scores = score.split(',')
```
↓
```ruby
score = ARGV[0].split(',')
```

### 三項演算子
シンプルな if/else文であれば、条件演算子（三項演算子）を使ったほうがスッキリ書ける場合がある。逆に複雑な条件文だったりすると、かえって読みづらくなる場合もある。
```ruby
if s == 'X'
  shots << 10
else
  shots << s.to_i
end
```
↓
```ruby
# if文を三項演算子に書き換える
shots << (s == 'X' ? 10 : s.to_i)
```

### ブロックの省略
`do...end`を`{...}`にすることで1行にまとめることができる（ブロックの省略形）。ただ、省略することで一文が複雑に感じて読みにくいようならば、明示的に書くなど臨機応変に対応するのがよい。
```ruby
score.each do |s|
  shots << (s == 'X' ? 10 : s.to_i)
end
```
↓
```ruby
score.each { |s| shots << (s == 'X' ? 10 : s.to_i) }
```

### リファクタリングされたコード（途中まで）
```ruby
#!/usr/bin/env ruby
# frozen_string_literal: true

score = ARGV[0].split(',') 
shots = []

score.each do |s|
  shots << (s == 'X' ? 10 : s.to_i)
end

frames = []
```
</details>

------------


## ✍🏻 感想
### 🤔💭 コードを短くする力を身に付けるには？
とっても難しくて楽しいリファクタリング。今日は、数時間リファクタリングを通して、どうすればコードを短くできるようになるのかを考えました。

#### 1. 基本を理解する
**基礎の文法をしっかり学ぶ**
- Ruby の基本的な構文（変数、条件分岐、繰り返し、メソッドなど）を確実に押さえること。

**Rubyのライブラリに慣れる（触れる）**
- Ruby の便利なメソッド（`map`, `each`, `split`など）を少しずつ覚えること。

#### 2. 他人のコードを読む
**コードを参考にする**
- 自分が書いたコードと他の人が書いたコードを見比べて、リファクタリングされて短くなったコードを見て「なぜ短く書けるのか？」を考える。

**読み方を知る**
- 読めないコードが出てきたら、自分で書き換えて動きを確かめたり、知らないメソッドを調べる。

#### 3. リファクタリングは小さい箇所から
**一度に全てをリファクタリングしようと考えないこと！**
- 先ずは簡単な箇所から変更（リファクタリング）を行うこと。リファクタリングを行う箇所は、冗長な部分や不要な変数を減らすことから始めるとよい......多分（私感ですが）。

リファクタリングは、基礎をしっかり押さえ、練習を積み重ねることが大切なのでは？と感じました。初めは時間がかかるかもしれませんが、少しずつ「冗長な部分を省く」「短くて読みやすいコードに書き換える」コツを掴んでいきたいと思います。

ちなみにリファクタリングが楽しいと感じた瞬間は、「違う書き方を知って、書き直して、それがちゃんと動いたとき」です。もっと Ruby の基礎が身に付けば、さらに楽しく感じられるはず！


------------


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp; 4 hours 40 min
- Total: 797 hours 44 min
