# 2025/01/21(火)
## 📚 プラクティス『Ruby中級』


## 🧩 タスクばらし
- [x] プラクティスの内容を咀嚼
- [x] タスクばらし、スモールステップの作成
- [x] 各参考ページを確認
- [ ] 参考書籍：[プロを目指す人のためのRuby入門 <改訂2版>](https://www.amazon.co.jp/dp/4297124378/)を読んで、実際に手を動かしてツールを使ってみてコードを書いてみる


## 🐾 スモールステップ
<details><summary>プラクティスの内容を咀嚼</summary>

- [x] プラクティスの内容を咀嚼
</details>

<details><summary>タスクばらし、スモールステップの作成</summary>

- [x] タスクばらし、スモールステップの作成
</details>

<details><summary>各参考ページを確認</summary>

- [x] [学習を加速させるインデックス読書術](https://qiita.com/dkatsura/items/3364b293ed1451a66a8a)を再読
- [x] 動画：[著者自身が語る「プロを目指す人のためのRuby入門」の効果的な読み方](https://www.youtube.com/watch?v=qqqbHXarPO8)
</details>

<details><summary>参考書籍：プロを目指す人のためのRuby入門 <改訂2版>を読んで、実際に手を動かしてツールを使ってみてコードを書いてみる</summary>

- [x] 第1章  本書を読み進める前に
   - [x] 1.1 イントロダクション
   - [x] 1.2 本書の概要
   - [x] 1.3 Ruby について
   - [x] 1.4 Ruby のインストール
   - [x] 1.5 エディタ/IDE について
   - [x] 1.6 Ruby を動かしてみる
   - [x] 1.7 本書のサンプルコードについて
   - [x] 1.8 Ruby の公式リファレンスについて
   - [x] 1.9 この章のまとめ
- [x] 第2章  Ruby の基礎を理解する
   - [x] 2.1 イントロダクション
   - [x] 2.2 Ruby に関する基礎知識
   - [x] 2.3 文字列
   - [x] 2.4 数値
   - [x] 2.5 真偽値と条件分岐
   - [x] 2.6 メソッドの定義
   - [x] 2.7 例題：FizzBuzzプログラムを作成する
   - [x] 2.8 文字列についてもっと詳しく
   - [x] 2.9 数値についてもっと詳しく
   - [x] 2.10 真偽値と条件分岐についてもっと詳しく
   - [x] 2.11 メソッド定義についてもっと詳しく
   - [x] 2.12 そのほかの基礎知識
   - [x] 2.13 この章のまとめ
- [x] 第3章  テストを自動化する
   - [x] 3.1 イントロダクション
   - [x] 3.2 Minitest の基本
   - [x] 3.3 FizzBuzzプログラムのテスト自動化
   - [x] 3.4 この章のまとめ
- [ ] 第4章  配列や繰り返し処理を理解する
   - [x] 4.1 イントロダクション
   - [x] 4.2 配列
   - [x] 4.3 ブロック
   - [x] 4.4 ブロックを使う配列のメソッド
   - [x] 4.5 範囲（Range）
   - [x] 4.6 例題：RGB変換プログラムを作成する
   - [x] 4.7 配列についてもっと詳しく
   - [x] 4.8 ブロックについてもっと詳しく
   - [x] 4.9 範囲（Range）についてもっと詳しく
   - [ ] 4.10 さまざまな繰り返し処理
   - [ ] 4.11 繰り返し処理用の制御構造
   - [ ] 4.12 この章のまとめ
- [ ] 第5章  ハッシュやシンボルを理解する
   - [ ] 5.1 イントロダクション
   - [ ] 5.2 ハッシュ
   - [ ] 5.3 シンボル
   - [ ] 5.4 続・ハッシュについて
   - [ ] 5.5 例題：長さの単位交換プログラムを作成する
   - [ ] 5.6 ハッシュとキーワード引数についてもっと詳しく
   - [ ] 5.7 シンボルについてもっと詳しく
   - [ ] 5.8 この章のまとめ
- [ ] 第6章  正規表現を理解する
   - [ ] 6.1 イントロダクション
   - [ ] 6.2 正規表現って何？
   - [ ] 6.3 Ruby における正規表現オブジェクト
   - [ ] 6.4 例題：Ruby のハッシュ記法を変換する
   - [ ] 6.5 正規表現オブジェクトについてもっと詳しく
   - [ ] 6.6 この章のまとめ
- [ ] 第7章  クラスの作成を理解する
   - [ ] 7.1 イントロダクション
   - [ ] 7.2 オブジェクト指向プログラミングの基礎知識
   - [ ] 7.3 クラスの定義
   - [ ] 7.4 例題：改札機プログラムの作成
   - [ ] 7.5 selfキーワード
   - [ ] 7.6 クラスの継承
   - [ ] 7.7 メソッドの可視性
   - [ ] 7.8 定数についてもっと詳しく
   - [ ] 7.9 さまざまな種類の変数
   - [ ] 7.10 クラス定義や Ruby の言語使用に関する高度な話題
   - [ ] 7.11 この章のまとめ
- [ ] 第8章  モジュールを理解する
   - [ ] 8.1 イントロダクション
   - [ ] 8.2 モジュールの概要
   - [ ] 8.3 モジュールを利用したメソッド定義（include と extend）
   - [ ] 8.4 例題：rainbowメソッドの作成
   - [ ] 8.5 モジュールを利用したメソッド定義についてもっと詳しく
   - [ ] 8.6 モジュールを利用した名前空間の作成
   - [ ] 8.7 関数や定数を提供するモジュールの作成
   - [ ] 8.8 状態を保持するモジュールの作成
   - [ ] 8.9 モジュールに関する高度な話題
   - [ ] 8.10 この章のまとめ
- [ ] 第9章  例外処理を理解する
   - [ ] 9.1 イントロダクション
   - [ ] 9.2 例外の捕捉
   - [ ] 9.3 意図的に例外を発生させる
   - [ ] 9.4 例外処理のベストプラクティス
   - [ ] 9.5 例題：正規表現チェッカープログラムの作成
   - [ ] 9.6 例外処理についてもっと詳しく
   - [ ] 9.7 この章のまとめ
- [ ] 第10章  yield と Proc を理解する
   - [ ] 10.1 イントロダクション
   - [ ] 10.2 ブロックを利用するメソッドの定義と yield
   - [ ] 10.3 Procオブジェクト
   - [ ] 10.4 例題：ワードシンセサイザーの作成
   - [ ] 10.5 Procオブジェクトについてもっと詳しく
   - [ ] 10.6 この章のまとめ
- [ ] 第11章  パターンマッチを理解する
   - [ ] 11.1 イントロダクション
   - [ ] 11.2 パターンマッチの基本
   - [ ] 11.3 パターンマッチの利用パターン
   - [ ] 11.4 例題：ログフォーマッターの作成
   - [ ] 11.5 パターンマッチについてもっと詳しく
   - [ ] 11.6 この章のまとめ
- [ ] 第12章  Ruby のデバッグ技法を身につける
   - [ ] 12.1 イントロダクション
   - [ ] 12.2 バックトレースの読み方
   - [ ] 12.3 よく発生する例外クラスとその原因
   - [ ] 12.4 プログラムの途中経過を確認する
   - [ ] 12.5 汎用的なトラブルシューティング方法
   - [ ] 12.6 この章のまとめ
- [ ] 第13章  Ruby に関するその他のトピック
   - [ ] 13.1 イントロダクション
   - [ ] 13.2 日付や時刻の扱い
   - [ ] 13.3 ファイルやディレクトリの扱い
   - [ ] 13.4 特定の形式のファイルを読み書きする
   - [ ] 13.5 環境変数や起動時引数の取得
   - [ ] 13.6 非推奨機能を使ったときに警告を出力する
   - [ ] 13.7 eval、バッククオートリテラル、sendメソッド
   - [ ] 13.8 Rake
   - [ ] 13.9 gem と Bundler
   - [ ] 13.10 Ruby における型情報の定義と型検査（RBS、TypeProf、Steep）
   - [ ] 13.11 「Rails の中の Ruby」と「素の Ruby」の違い
   - [ ] 13.12 この章のまとめ

</details>


------------


## 🧑🏻‍💻 本日の取り組み
### プラクティス『Ruby中級』
- 参考書籍：『プロを目指す人のためのRuby入門 <改訂2版>』を読み進める
   - 第4章  配列や繰り返し処理を理解する
      - 4.10 さまざまな繰り返し処理
         - 4.10.4 while文とuntil文 まで

## 🎯 次回
### プラクティス『Ruby中級』
- 参考書籍：『プロを目指す人のためのRuby入門 <改訂2版>』を読み進める
   - 第4章  配列や繰り返し処理を理解する
      - 4.10 さまざまな繰り返し処理
        - 4.10.5 for文 〜


------------


## 💡 本日の学び・気付き
### 🍒 プロを目指す人のためのRuby入門 <改訂2版>
#### 4.8 ブロックについてもっと詳しく
##### do...end と {} の結合度の違い
ブロックは、`do...end`よりも`{}`のほうが結合度が強い。たとえば、配列の`delete`メソッドにはブロックを渡すことができる。**ブロックを渡すと引数で指定した値が見つからない時の戻り値を指定する**ことができる。
- deleteメソッド：配列において指定した値に一致する要素を削除するメソッド。
```ruby
a = [1, 2, 3]

# ブロックを渡さないときは指定した値が見つからないとnilが返る
irb(main):270> a.delete(100)
=> nil

# ブロックを渡すとブロックの戻り値が指定した値が見つからないときの戻り値になる
irb(main):271* a.delete(100) do
irb(main):272*   'NG'
irb(main):273> end
=> "NG"
```
Ruby はメソッドの引数を囲む`()`を省略することができる。
```ruby
irb(main):274* a.delete 100 do
irb(main):275*   'NG'
irb(main):276> end
=> "NG"
```
次に、`do...end`を`{}`に置き換えて実行する。
```ruby
irb(main):277> a.delete 100 { 'NG' }
syntax error, unexpected '{', expecting end-of-input (SyntaxError)
```
↑この違いは、`{}`の結合度が強いため、`a.delete 100`ではなく、`100 { 'NG' }`と解釈されてしまうから。すなわち、`100`はただの数値で、メソッドではないためブロックを渡すことができず構文エラーと解釈されてしまう。

このエラーを解決するためには、`100`を`()`で囲む。`a.delete(100)`だと優先的に解釈されるようになる。
```ruby
irb(main):278> a.delete(100){ 'NG' }
=> "NG"
```
引数付きのメソッド呼び出しで`{}`をブロックとして使う場合は、メソッド引数の`()`を**省略できない**ことを覚えておくこと。

#### 4.9 範囲（Range）についてもっと詳しく
##### 終端や始端を持たない範囲オブジェクト
終端や始端を持たない範囲オブジェクト。
```ruby
# 10以上を表す範囲オブジェクト
(10..)

# 終端を省略する代わりにnilを指定しても同じ
10..nil

# 10以下を表す範囲オブジェクト
(..10)

# 始端を省略する代わりにnilを指定しても同じ
nil..10
```
終端や始端を省略した範囲オブジェクトを使ったコード。
```ruby
irb(main):279> numbers = [10, 20, 30, 40, 50]
=> [10, 20, 30, 40, 50]

# 3番目以降の要素を取得
irb(main):280> numbers[2..]
=> [30, 40, 50]

# 2番目以前の要素を取得
irb(main):281> numbers[..1]
=> [10, 20]
```

#### 4.10 さまざまな繰り返し処理
##### timesメソッド
配列を使わず、単純に n 回処理を繰り返したい、という場合は`Integer`クラスの`times`メソッドを使うと便利。
```ruby
sum = 0
# 処理を5回繰り返す。nには0,1,2,3,4が入る
5.times { |n| sum += n }
irb(main):284> sum
=> 10
```
不要であればブロックパラメータは省略しても大丈夫。
```ruby
sum = 0
# sumに1を加算する処理を5回繰り返す
5.times { sum += 1 }
irb(main):287> sum
=> 5
```

##### uptoメソッドとdowntoメソッド
n から m まで数値を1つずつ増やしながら何か処理をしたい場合は、`Integer`クラスの`upto`メソッドを使う。
```ruby
a = []
10.upto(14) { |n| a << n }
irb(main):290> a
=> [10, 11, 12, 13, 14]
```
数値を減らしていきたい場合は`downto`メソッドを使う。
```ruby
a = []
14.downto(10) { |n| a << n }
irb(main):293> a
=> [14, 13, 12, 11, 10]
```

##### stepメソッド
1、3、5、7のように、n から m まで数値を x 個ずつ増やしながら何か処理をしたい場合は、`Numeric`クラスの`step`メソッドを使う。`step`メソッドは次のような仕様になっている。
```ruby
開始値.step(上限値, 一度に増減する大きさ)
```
```ruby
# 1から10まで2つずつ値を増やしながら処理をする場合
a = []
1.step(10, 2) { |n| a << n }
irb(main):296> a
=> [1, 3, 5, 7, 9]

# 10から1まで2つずつ値を減らす場合
a = []
10.step(1, -2) { |n| a << n }
irb(main):299> a
=> [10, 8, 6, 4, 2]
```

##### while文とuntil文
Ruby には繰り返し処理用の構文も用意されている。その1つが while文。while文は指定した条件が真である間、処理を繰り返す。
```ruby
while 条件式(真であれば実行)
  繰り返したい処理
end
```
```ruby
# 配列の要素数が5つになるまで値を追加するwhile文
a = []
while a.size < 5
  a << 1
end
irb(main):304> a
=> [1, 1, 1, 1, 1]

# 条件式の後ろにdoを入れる書き方
a = []
while a.size < 5 do a << 1 end
irb(main):307> a
=> [1, 1, 1, 1, 1]

# while文を後ろに置いて1行で書く書き方
a = []
a << 1 while a.size < 5
irb(main):310> a
=> [1, 1, 1, 1, 1]
```
どんな条件でも最低1回は実行したい場合は、`begin ... end`で囲んでから`while`を書く。
```ruby
a = []
while false
# このコードは常に条件が偽になるので実行されない
  a << 1
end
irb(main):315> a
=> []

# begin ... endで囲むとどんな条件でも最低1回は実行される
begin
  a << 1
end while false
irb(main):319> a
=> [1]
```
while文の反対で、条件が偽である間、処理を繰り返す until文もある。
```ruby
until 条件式(偽であれば実行)
  繰り返したい処理
end
```
```ruby
# 配列の要素数が3以下になるまで配列の要素を後ろから削除して行くコード例
a = [10, 20, 30, 40, 50]
until a.size <= 3
  a.delete_at(-1)
end
irb(main):324> a
=> [10, 20, 30]
```


-------------


## ✍🏻 感想
### 🍒 地道に理解とインプット
第4章の配列も終わりが見えてきました。配列に関連する構文やメソッドはたくさんありますが、地道に理解しながらインプットしていきます。


------------


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp; 2 hours 42 min
- Total: 895 hours 06 min
