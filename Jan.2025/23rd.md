# 2025/01/23(木)
## 📚 プラクティス『Ruby中級』


## 🧩 タスクばらし
- [x] プラクティスの内容を咀嚼
- [x] タスクばらし、スモールステップの作成
- [x] 各参考ページを確認
- [ ] 参考書籍：[プロを目指す人のためのRuby入門 <改訂2版>](https://www.amazon.co.jp/dp/4297124378/)を読んで、実際に手を動かしてツールを使ってみてコードを書いてみる


## 🐾 スモールステップ
<details><summary>プラクティスの内容を咀嚼</summary>

- [x] プラクティスの内容を咀嚼
</details>

<details><summary>タスクばらし、スモールステップの作成</summary>

- [x] タスクばらし、スモールステップの作成
</details>

<details><summary>各参考ページを確認</summary>

- [x] [学習を加速させるインデックス読書術](https://qiita.com/dkatsura/items/3364b293ed1451a66a8a)を再読
- [x] 動画：[著者自身が語る「プロを目指す人のためのRuby入門」の効果的な読み方](https://www.youtube.com/watch?v=qqqbHXarPO8)
</details>

<details><summary>参考書籍：プロを目指す人のためのRuby入門 <改訂2版>を読んで、実際に手を動かしてツールを使ってみてコードを書いてみる</summary>

- [x] 第1章  本書を読み進める前に
   - [x] 1.1 イントロダクション
   - [x] 1.2 本書の概要
   - [x] 1.3 Ruby について
   - [x] 1.4 Ruby のインストール
   - [x] 1.5 エディタ/IDE について
   - [x] 1.6 Ruby を動かしてみる
   - [x] 1.7 本書のサンプルコードについて
   - [x] 1.8 Ruby の公式リファレンスについて
   - [x] 1.9 この章のまとめ
- [x] 第2章  Ruby の基礎を理解する
   - [x] 2.1 イントロダクション
   - [x] 2.2 Ruby に関する基礎知識
   - [x] 2.3 文字列
   - [x] 2.4 数値
   - [x] 2.5 真偽値と条件分岐
   - [x] 2.6 メソッドの定義
   - [x] 2.7 例題：FizzBuzzプログラムを作成する
   - [x] 2.8 文字列についてもっと詳しく
   - [x] 2.9 数値についてもっと詳しく
   - [x] 2.10 真偽値と条件分岐についてもっと詳しく
   - [x] 2.11 メソッド定義についてもっと詳しく
   - [x] 2.12 そのほかの基礎知識
   - [x] 2.13 この章のまとめ
- [x] 第3章  テストを自動化する
   - [x] 3.1 イントロダクション
   - [x] 3.2 Minitest の基本
   - [x] 3.3 FizzBuzzプログラムのテスト自動化
   - [x] 3.4 この章のまとめ
- [x] 第4章  配列や繰り返し処理を理解する
   - [x] 4.1 イントロダクション
   - [x] 4.2 配列
   - [x] 4.3 ブロック
   - [x] 4.4 ブロックを使う配列のメソッド
   - [x] 4.5 範囲（Range）
   - [x] 4.6 例題：RGB変換プログラムを作成する
   - [x] 4.7 配列についてもっと詳しく
   - [x] 4.8 ブロックについてもっと詳しく
   - [x] 4.9 範囲（Range）についてもっと詳しく
   - [x] 4.10 さまざまな繰り返し処理
   - [x] 4.11 繰り返し処理用の制御構造
   - [x] 4.12 この章のまとめ
- [ ] 第5章  ハッシュやシンボルを理解する
   - [x] 5.1 イントロダクション
   - [x] 5.2 ハッシュ
   - [ ] 5.3 シンボル
   - [ ] 5.4 続・ハッシュについて
   - [ ] 5.5 例題：長さの単位交換プログラムを作成する
   - [ ] 5.6 ハッシュとキーワード引数についてもっと詳しく
   - [ ] 5.7 シンボルについてもっと詳しく
   - [ ] 5.8 この章のまとめ
- [ ] 第6章  正規表現を理解する
   - [ ] 6.1 イントロダクション
   - [ ] 6.2 正規表現って何？
   - [ ] 6.3 Ruby における正規表現オブジェクト
   - [ ] 6.4 例題：Ruby のハッシュ記法を変換する
   - [ ] 6.5 正規表現オブジェクトについてもっと詳しく
   - [ ] 6.6 この章のまとめ
- [ ] 第7章  クラスの作成を理解する
   - [ ] 7.1 イントロダクション
   - [ ] 7.2 オブジェクト指向プログラミングの基礎知識
   - [ ] 7.3 クラスの定義
   - [ ] 7.4 例題：改札機プログラムの作成
   - [ ] 7.5 selfキーワード
   - [ ] 7.6 クラスの継承
   - [ ] 7.7 メソッドの可視性
   - [ ] 7.8 定数についてもっと詳しく
   - [ ] 7.9 さまざまな種類の変数
   - [ ] 7.10 クラス定義や Ruby の言語使用に関する高度な話題
   - [ ] 7.11 この章のまとめ
- [ ] 第8章  モジュールを理解する
   - [ ] 8.1 イントロダクション
   - [ ] 8.2 モジュールの概要
   - [ ] 8.3 モジュールを利用したメソッド定義（include と extend）
   - [ ] 8.4 例題：rainbowメソッドの作成
   - [ ] 8.5 モジュールを利用したメソッド定義についてもっと詳しく
   - [ ] 8.6 モジュールを利用した名前空間の作成
   - [ ] 8.7 関数や定数を提供するモジュールの作成
   - [ ] 8.8 状態を保持するモジュールの作成
   - [ ] 8.9 モジュールに関する高度な話題
   - [ ] 8.10 この章のまとめ
- [ ] 第9章  例外処理を理解する
   - [ ] 9.1 イントロダクション
   - [ ] 9.2 例外の捕捉
   - [ ] 9.3 意図的に例外を発生させる
   - [ ] 9.4 例外処理のベストプラクティス
   - [ ] 9.5 例題：正規表現チェッカープログラムの作成
   - [ ] 9.6 例外処理についてもっと詳しく
   - [ ] 9.7 この章のまとめ
- [ ] 第10章  yield と Proc を理解する
   - [ ] 10.1 イントロダクション
   - [ ] 10.2 ブロックを利用するメソッドの定義と yield
   - [ ] 10.3 Procオブジェクト
   - [ ] 10.4 例題：ワードシンセサイザーの作成
   - [ ] 10.5 Procオブジェクトについてもっと詳しく
   - [ ] 10.6 この章のまとめ
- [ ] 第11章  パターンマッチを理解する
   - [ ] 11.1 イントロダクション
   - [ ] 11.2 パターンマッチの基本
   - [ ] 11.3 パターンマッチの利用パターン
   - [ ] 11.4 例題：ログフォーマッターの作成
   - [ ] 11.5 パターンマッチについてもっと詳しく
   - [ ] 11.6 この章のまとめ
- [ ] 第12章  Ruby のデバッグ技法を身につける
   - [ ] 12.1 イントロダクション
   - [ ] 12.2 バックトレースの読み方
   - [ ] 12.3 よく発生する例外クラスとその原因
   - [ ] 12.4 プログラムの途中経過を確認する
   - [ ] 12.5 汎用的なトラブルシューティング方法
   - [ ] 12.6 この章のまとめ
- [ ] 第13章  Ruby に関するその他のトピック
   - [ ] 13.1 イントロダクション
   - [ ] 13.2 日付や時刻の扱い
   - [ ] 13.3 ファイルやディレクトリの扱い
   - [ ] 13.4 特定の形式のファイルを読み書きする
   - [ ] 13.5 環境変数や起動時引数の取得
   - [ ] 13.6 非推奨機能を使ったときに警告を出力する
   - [ ] 13.7 eval、バッククオートリテラル、sendメソッド
   - [ ] 13.8 Rake
   - [ ] 13.9 gem と Bundler
   - [ ] 13.10 Ruby における型情報の定義と型検査（RBS、TypeProf、Steep）
   - [ ] 13.11 「Rails の中の Ruby」と「素の Ruby」の違い
   - [ ] 13.12 この章のまとめ

</details>


------------


## 🧑🏻‍💻 本日の取り組み
### プラクティス『Ruby中級』
- 参考書籍：『プロを目指す人のためのRuby入門 <改訂2版>』を読み進める
   - 第5章  ハッシュやシンボルを理解する
      - 5.2 ハッシュ まで修了

### ゆるっとOSSカフェ☕️参加
- 翻訳作業




## 🎯 次回
### プラクティス『Ruby中級』
- 参考書籍：『プロを目指す人のためのRuby入門 <改訂2版>』を読み進める
  - 第5章  ハッシュやシンボルを理解する
    - 5.3 シンボル 〜


------------


## 💡 本日の学び・気付き
### 5.1 イントロダクション
配列と同様、ハッシュも利用頻度の高いオブジェクト。また、シンボルは少し変わったデータ型で、こちらも使用頻度が高い。
#### この章の例題：長さの単位変換プログラム
長さの単位変換プログラムの仕様は以下のとおり。
- **メートル（m）、フィート（ft）、インチ（in）の単位を相互に変換する。**
- **第1引数に変換元の長さ（数値）、第2引数に変換元の単位、第3引数に変換後の単位を指定する。**
- **メソッドの戻り値は変換後の長さ（数値）とする。端数が出る場合は少数第3位で四捨五入する。**

##### 各単位の数値

|単位   |略称   |m 換算   |
|:---|:---:|---:|
|メートル   |m   |1.00   |
|フィート   |ft   |3.28   |
|インチ   |in   |39.37   |

#### 長さの単位変換プログラムの実行例
長さの単位変換プログラムの実行例を以下に示す。
```ruby
convert_length(1, 'm', 'in')     #=> 39.37
convert_length(15, 'in', 'm')    #=> 0.38
convert_length(35000, 'ft', 'm') #=> 10670.73
``` 
- convert：「変わる、転換する」という意味。

### 5.2 ハッシュ
ハッシュとはキーと値の組み合わせでデータを管理するオブジェクトのこと。他の言語では連想配列やディクショナリ（辞書）、マップと呼ばれる。
ハッシュを作成する場合は構文（ハッシュリテラル）を使う。ハッシュにおいては**キー**と**値**の組み合わせが1つの要素になる。
```ruby
# 空のハッシュを作る
{}

# キーと値の組み合わせ（要素）を3つ格納するハッシュ
{ キー1 => 値1, キー2 => 値2, キー3 => 値3 }
```
ハッシュは`Hash`クラスのオブジェクトになっている。
```ruby
# 空のハッシュを作成し、そのクラス名を確認する
{}.class #=> Hash
```
以下は国ごとの通貨単位を格納したハッシュを作成する例。
```ruby
{ 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }

# 改行して書くことも可能
{
  'japan' => 'yen',
  'us' => 'dollar',
  'india' => 'rupee'
}

# 配列と同様、最後にカンマが付いてもエラーにはならない
{
  'japan' => 'yen',
  'us' => 'dollar',
  'india' => 'rupee',
}
```
同じキーが複数使われた場合は、**最後に出てきた値**が使われる。
```ruby
{ 'japan' => 'yen', 'japan' => '円' } #=> { 'japan' => '円' }
```

#### 要素の追加、変更、取得
あとから新しい要素を追加する場合は、次のような構文を使う。
```ruby
ハッシュ[キー] = 値
```
新たにイタリアの通貨を追加するコード例。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'indea' => 'rupee' }

# イタリアの通貨を追加する
currencies['italy'] = 'euro'
irb(main):061> currencies
=> {"japan"=>"yen", "us"=>"dollar", "indea"=>"rupee", "italy"=>"euro"}
```
すでにキーが存在していた場合は、値が上書きされる。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }

# 既存の値を上書きする
currencies['japan'] = '円'
irb(main):064> currencies
=> {"japan"=>"円", "us"=>"dollar", "india"=>"rupee"}
```
ハッシュから値を取り出す場合は、次のようにしてキーを指定する。
```ruby
ハッシュ[キー]
```
以下はハッシュからインドの通貨を取得するコード例。ハッシュはその内部構造上、キーと値が大量に格納されている場合でも、指定したキーに対応する値を高速に取り出せるのが特徴。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }
irb(main):067> currencies['india']
=> "rupee"
```
存在しないキーを指定すると`nil`が返る。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }
irb(main):068> currencies['brazil']
=> nil
```
- currency：「通貨、貨幣」という意味。

#### ハッシュを使った繰り返し処理
`each`メソッドを使うと、キーと値の組み合わせを順に取り出すことができる。**キーと値は格納した順に取り出される**。**ブロックパラメータがキーと値で2個**になっている点に注意。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }

irb(main):070* currencies.each do |key, value|
irb(main):071*   puts "#{key} : #{value}"
irb(main):072> end
japan : yen
us : dollar
india : rupee
```
ブロックパラメータを1つにするとキーと値が配列に格納される。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }

irb(main):074* currencies.each do |key_value|
irb(main):075*   key = key_value[0]
irb(main):076*   value = key_value[1]
irb(main):077*   puts "#{key} : #{value}"
irb(main):078> end
japan : yen
us : dollar
india : rupee
```

#### ハッシュの同値比較、要素数の取得、要素の削除
`==`でハッシュ同士を比較すると、同じハッシュかどうかをチェックできる。このときすべてのキーと値が同じであれば`true`が返る。
```ruby
a = { 'x' => 1, 'y' => 2, 'z' => 3 }

# 全てのキーと値が同じであればtrue
b = { 'x' => 1, 'y' => 2, 'z' => 3 }
irb(main):081> a == b
=> true

# 並び順が異なっていてもキーと値が全て同じならtrue
c = { 'z' => 3, 'y' => 2, 'x' => 1 }
irb(main):083> a == c
=> true

# キー'x'の値が異なるのでfalse
d = { 'x' => 10, 'y' => 2, 'z' => 3 }
irb(main):085> a == d
=> false
```
`size`メソッド（エイリアスメソッドは`length`）を使うと**ハッシュの要素の個数**を調べることができる。
```ruby
irb(main):086> {}.size
=> 0
irb(main):087> { 'x' => 1, 'y' => 2, 'z' => 3 }.size
=> 3
```
`delete`メソッドを使うと指定したキーに対応する要素を削除できる。戻り値は削除された要素の値。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }
irb(main):089> currencies.delete('japan')
=> "yen"
irb(main):090> currencies
=> {"us"=>"dollar", "india"=>"rupee"}
```
`delete`メソッドで指定したキーがなければ`nil`が返る。ブロックを渡すと、キーが見つからないときにブロックの戻り値を`delete`メソッドの戻り値にできる。
```ruby
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }

# 削除しようとしたキーが見つからないときはnilが返る
irb(main):092> currencies.delete('italy')
=> nil

# ブロックを渡すとキーが見つからないときの戻り値を作成できる
irb(main):093> currencies.delete('italy') { |key| "Not found: #{key}" }
=> "Not found: italy"
```


-------------


## ✍🏻 感想
### 🍒 知らないことがたくさん
ハッシュの基本的な使い方を学びながら、現在の自分が知っているハッシュについて知識を確認しました。しかし、ちょっとした書き方やメソッドとの組み合わせについて、まだまだ知らないことがたくさんあると感じました。

### ゆるっとOSSカフェ☕️
今回は日本語に訳す作業でした。私は、キッチンに MacBook を置いて晩御飯を支度しながらラジオ参加しました。 皆さんで力を合わせて翻訳される雰囲気に心が和みました。


------------


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp; 4 hours 18 min
- Total: 901 hours 41 min
