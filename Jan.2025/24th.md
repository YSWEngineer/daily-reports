# 2025/01/24(金)
## 📚 プラクティス『Ruby中級』


## 🧩 タスクばらし
- [x] プラクティスの内容を咀嚼
- [x] タスクばらし、スモールステップの作成
- [x] 各参考ページを確認
- [ ] 参考書籍：[プロを目指す人のためのRuby入門 <改訂2版>](https://www.amazon.co.jp/dp/4297124378/)を読んで、実際に手を動かしてツールを使ってみてコードを書いてみる


## 🐾 スモールステップ
<details><summary>プラクティスの内容を咀嚼</summary>

- [x] プラクティスの内容を咀嚼
</details>

<details><summary>タスクばらし、スモールステップの作成</summary>

- [x] タスクばらし、スモールステップの作成
</details>

<details><summary>各参考ページを確認</summary>

- [x] [学習を加速させるインデックス読書術](https://qiita.com/dkatsura/items/3364b293ed1451a66a8a)を再読
- [x] 動画：[著者自身が語る「プロを目指す人のためのRuby入門」の効果的な読み方](https://www.youtube.com/watch?v=qqqbHXarPO8)
</details>

<details><summary>参考書籍：プロを目指す人のためのRuby入門 <改訂2版>を読んで、実際に手を動かしてツールを使ってみてコードを書いてみる</summary>

- [x] 第1章  本書を読み進める前に
   - [x] 1.1 イントロダクション
   - [x] 1.2 本書の概要
   - [x] 1.3 Ruby について
   - [x] 1.4 Ruby のインストール
   - [x] 1.5 エディタ/IDE について
   - [x] 1.6 Ruby を動かしてみる
   - [x] 1.7 本書のサンプルコードについて
   - [x] 1.8 Ruby の公式リファレンスについて
   - [x] 1.9 この章のまとめ
- [x] 第2章  Ruby の基礎を理解する
   - [x] 2.1 イントロダクション
   - [x] 2.2 Ruby に関する基礎知識
   - [x] 2.3 文字列
   - [x] 2.4 数値
   - [x] 2.5 真偽値と条件分岐
   - [x] 2.6 メソッドの定義
   - [x] 2.7 例題：FizzBuzzプログラムを作成する
   - [x] 2.8 文字列についてもっと詳しく
   - [x] 2.9 数値についてもっと詳しく
   - [x] 2.10 真偽値と条件分岐についてもっと詳しく
   - [x] 2.11 メソッド定義についてもっと詳しく
   - [x] 2.12 そのほかの基礎知識
   - [x] 2.13 この章のまとめ
- [x] 第3章  テストを自動化する
   - [x] 3.1 イントロダクション
   - [x] 3.2 Minitest の基本
   - [x] 3.3 FizzBuzzプログラムのテスト自動化
   - [x] 3.4 この章のまとめ
- [x] 第4章  配列や繰り返し処理を理解する
   - [x] 4.1 イントロダクション
   - [x] 4.2 配列
   - [x] 4.3 ブロック
   - [x] 4.4 ブロックを使う配列のメソッド
   - [x] 4.5 範囲（Range）
   - [x] 4.6 例題：RGB変換プログラムを作成する
   - [x] 4.7 配列についてもっと詳しく
   - [x] 4.8 ブロックについてもっと詳しく
   - [x] 4.9 範囲（Range）についてもっと詳しく
   - [x] 4.10 さまざまな繰り返し処理
   - [x] 4.11 繰り返し処理用の制御構造
   - [x] 4.12 この章のまとめ
- [ ] 第5章  ハッシュやシンボルを理解する
   - [x] 5.1 イントロダクション
   - [x] 5.2 ハッシュ
   - [x] 5.3 シンボル
   - [ ] 5.4 続・ハッシュについて
   - [ ] 5.5 例題：長さの単位交換プログラムを作成する
   - [ ] 5.6 ハッシュとキーワード引数についてもっと詳しく
   - [ ] 5.7 シンボルについてもっと詳しく
   - [ ] 5.8 この章のまとめ
- [ ] 第6章  正規表現を理解する
   - [ ] 6.1 イントロダクション
   - [ ] 6.2 正規表現って何？
   - [ ] 6.3 Ruby における正規表現オブジェクト
   - [ ] 6.4 例題：Ruby のハッシュ記法を変換する
   - [ ] 6.5 正規表現オブジェクトについてもっと詳しく
   - [ ] 6.6 この章のまとめ
- [ ] 第7章  クラスの作成を理解する
   - [ ] 7.1 イントロダクション
   - [ ] 7.2 オブジェクト指向プログラミングの基礎知識
   - [ ] 7.3 クラスの定義
   - [ ] 7.4 例題：改札機プログラムの作成
   - [ ] 7.5 selfキーワード
   - [ ] 7.6 クラスの継承
   - [ ] 7.7 メソッドの可視性
   - [ ] 7.8 定数についてもっと詳しく
   - [ ] 7.9 さまざまな種類の変数
   - [ ] 7.10 クラス定義や Ruby の言語使用に関する高度な話題
   - [ ] 7.11 この章のまとめ
- [ ] 第8章  モジュールを理解する
   - [ ] 8.1 イントロダクション
   - [ ] 8.2 モジュールの概要
   - [ ] 8.3 モジュールを利用したメソッド定義（include と extend）
   - [ ] 8.4 例題：rainbowメソッドの作成
   - [ ] 8.5 モジュールを利用したメソッド定義についてもっと詳しく
   - [ ] 8.6 モジュールを利用した名前空間の作成
   - [ ] 8.7 関数や定数を提供するモジュールの作成
   - [ ] 8.8 状態を保持するモジュールの作成
   - [ ] 8.9 モジュールに関する高度な話題
   - [ ] 8.10 この章のまとめ
- [ ] 第9章  例外処理を理解する
   - [ ] 9.1 イントロダクション
   - [ ] 9.2 例外の捕捉
   - [ ] 9.3 意図的に例外を発生させる
   - [ ] 9.4 例外処理のベストプラクティス
   - [ ] 9.5 例題：正規表現チェッカープログラムの作成
   - [ ] 9.6 例外処理についてもっと詳しく
   - [ ] 9.7 この章のまとめ
- [ ] 第10章  yield と Proc を理解する
   - [ ] 10.1 イントロダクション
   - [ ] 10.2 ブロックを利用するメソッドの定義と yield
   - [ ] 10.3 Procオブジェクト
   - [ ] 10.4 例題：ワードシンセサイザーの作成
   - [ ] 10.5 Procオブジェクトについてもっと詳しく
   - [ ] 10.6 この章のまとめ
- [ ] 第11章  パターンマッチを理解する
   - [ ] 11.1 イントロダクション
   - [ ] 11.2 パターンマッチの基本
   - [ ] 11.3 パターンマッチの利用パターン
   - [ ] 11.4 例題：ログフォーマッターの作成
   - [ ] 11.5 パターンマッチについてもっと詳しく
   - [ ] 11.6 この章のまとめ
- [ ] 第12章  Ruby のデバッグ技法を身につける
   - [ ] 12.1 イントロダクション
   - [ ] 12.2 バックトレースの読み方
   - [ ] 12.3 よく発生する例外クラスとその原因
   - [ ] 12.4 プログラムの途中経過を確認する
   - [ ] 12.5 汎用的なトラブルシューティング方法
   - [ ] 12.6 この章のまとめ
- [ ] 第13章  Ruby に関するその他のトピック
   - [ ] 13.1 イントロダクション
   - [ ] 13.2 日付や時刻の扱い
   - [ ] 13.3 ファイルやディレクトリの扱い
   - [ ] 13.4 特定の形式のファイルを読み書きする
   - [ ] 13.5 環境変数や起動時引数の取得
   - [ ] 13.6 非推奨機能を使ったときに警告を出力する
   - [ ] 13.7 eval、バッククオートリテラル、sendメソッド
   - [ ] 13.8 Rake
   - [ ] 13.9 gem と Bundler
   - [ ] 13.10 Ruby における型情報の定義と型検査（RBS、TypeProf、Steep）
   - [ ] 13.11 「Rails の中の Ruby」と「素の Ruby」の違い
   - [ ] 13.12 この章のまとめ

</details>


------------


## 🧑🏻‍💻 本日の取り組み
### プラクティス『Ruby中級』
- 参考書籍：『プロを目指す人のためのRuby入門 <改訂2版>』を読み進める
   - 第5章  ハッシュやシンボルを理解する
      - 5.3 シンボル



## 🎯 次回
### プラクティス『Ruby中級』
- 参考書籍：『プロを目指す人のためのRuby入門 <改訂2版>』を読み進める
  - 第5章  ハッシュやシンボルを理解する
    - 5.4 続・ハッシュについて 〜


------------


## 💡 本日の学び・気付き
### 5.3 シンボル
シンボルとは？
- シンボルは任意の文字列と一対一に対応するオブジェクト。
- 文字列の代わりに用いることもできるが、必ずしも文字列と同じ振る舞いをするわけではない。
- 同じ内容のシンボルは必ず同一のオブジェクト。

シンボルはコロン(`:`)に続けて任意の名前を定義する（シンボルリテラル）。
```ruby
:シンボルの名前
```
シンボルを作成するコード例。
```ruby
:apple
:japan
:ruby_is_fun

# 文字列を作るコード例
'apple'
'japan'
'ruby_is_fun'
```

#### シンボルと文字列の違い
シンボルは **Symbolクラスのオブジェクト**になる。文字列は **Stringクラスのオブジェクト**。
```ruby
irb(main):094> :apple.class
=> Symbol
irb(main):095> 'apple'.class
=> String
```
シンボルは Ruby の内部で**整数**として管理される。表面的には文字列と同じように見えるが、その中身は整数。そのため、2つの値が同じかどうか調べる場合、**文字列よりも高速に処理できる**。
```ruby
# 文字列よりもシンボルのほうが高速に比較できる
'apple' == 'apple'
:apple == :apple
```
シンボルは「同じシンボルであれば全く同じオブジェクトである」という特徴がある。「大量の同じ文字列」と「大量の同じシンボル」を作成した場合、**シンボルのほうがメモリの使用効率が良くなる**。

全く同じオブジェクトであるかどうかは**object_id**を調べると分かる。
```ruby
# シンボルは全て同じIDになる
irb(main):096> :apple.object_id
=> 3962588
irb(main):097> :apple.object_id
=> 3962588
irb(main):098> :apple.object_id
=> 3962588

# 文字列は3つとも異なるIDになる
irb(main):099> 'apple'.object_id
=> 732200
irb(main):100> 'apple'.object_id
=> 739940
irb(main):101> 'apple'.object_id
=> 747680
```
シンボルはイミュータブルなオブジェクトである。文字列のように破壊的な変更はできないため、「何か名前を付けたい。名前なので誰かによって勝手に変更されては困る」という用途に向いている。
- **イミュータブル**：作成後にその状態を変えることのできないオブジェクトのこと。
```ruby
# 文字列は破壊的な変更が可能
irb(main):102> string = 'apple'
=> "apple"
irb(main):103> string.upcase!
=> "APPLE"
irb(main):104> string
=> "APPLE"

# シンボルはイミュータブルなので、破壊的な変更は不可能
irb(main):105> symbol = :apple
=> :apple
irb(main):106> symbol.upcase!
(irb):106:in `<main>': undefined method `upcase!' for an instance of Symbol (NoMethodError)
```

#### シンボルの特徴と主な用途
シンボルの特徴をまとめると......
- **表面上は文字列っぽいので、プログラマにとって理解しやすい。**
- **内部的には整数なので、コンピュータは高速に値を比較できる。**
- **同じシンボルは同じオブジェクトであるため、メモリの使用効率が良い。**
- **イミュータブルなので、勝手に値を変えられる心配がない。**

シンボルがよく使われるのは、ソースコード上では名前を識別できるようにしたいが、その名前が必ずしも文字列である必要はない場合。代表的な利用例はハッシュのキー。ハッシュのキーをシンボルに使うと、**文字列よりも高速に値を取りに出すことができる**。
```ruby
# 文字列のハッシュのキーにする
currencies = { 'japan' => 'yen', 'us' => 'dollar', 'india' => 'rupee' }
# 文字列を使って値を取り出す
irb(main):108> currencies['japan']
=> "yen"

# シンボルをハッシュのキーにする
currencies = { :japan => 'yen', :us => 'dollar' :india => 'rupee' }
# シンボルを使って値を取り出す（文字列より高速）
irb(main):111> currencies[:japan]
=> "yen"
```
プログラム上で**区分や状態を管理したいときもシンボルがよく使われる**。たとえばタスクの状態を0から2の整数値で管理する場合、コンピュータには処理効率が良いが、人間にとっては可読性はあまり良くない。
```ruby
# タスクの状態を整数値で管理する（処理効率は良いが、可読性が悪い）
irb(main):112> status = 2
=> 2
irb(main):113* case status
irb(main):114* when 0 # todo
irb(main):115*   'これからやります'
irb(main):116* when 1 # doing
irb(main):117*   '今やってます'
irb(main):118* when 2 # done
irb(main):119*   'もう終わりました'
irb(main):120> end
=> "もう終わりました"
```
各状態をシンボルで管理すれば、処理効率を保ったまま可読性を上げることができる。
```ruby
# タスクの状態をシンボルで管理する（処理効率も可読性も良い）
irb(main):121> status = :done
=> :done
irb(main):122* case status
irb(main):123* when :todo
irb(main):124*   'これからやります'
irb(main):125* when :doing
irb(main):126*   '今やってます'
irb(main):127* when :done
irb(main):128*   'もう終わりました'
irb(main):129> end
=> "もう終わりました"
```


-------------


## ✍🏻 感想
### 🍒 メモリの使用効率という概念
今日は、シンボルと文字列の違いから「メモリの使用効率」について学びました。まだ「メモリを効率的に使用することで、プログラムの実行速度が向上する」くらいのことしか分かりませんが、引き続きハッシュやシンボルについて、もっと知っていきたいと思います。

ちなみに、先月のミートアップの懇親会で:@u1tnk: ゆーいちさんと :@tadaaki: ただあきさんが話してくださったメモリの話（同じコードでも書き方次第でコンピュータにかかる負荷や処理速度が変わるというお話）が、今日学んだ「メモリの使用効率」と繋がって、「あのときの話ってこれに関係していることだよね！」と嬉しくなり、気持ちが高揚したのはここだけのお話です😊


------------


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp; 2 hours 02 min
- Total: 903 hours 43 min
