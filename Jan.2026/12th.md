# 2026/01/12(月)
## 📚 プラクティス『🛠️💻 lsコマンドを作る3』

<details><summary>🎯 学習の狙い</summary>

- 標準出力について学ぶ
- 標準ライブラリの使い方を学ぶ
- Enumeratorには、each以外にも便利なメソッドがあることを学ぶ
- RailsじゃないRubyプログラミングを学ぶ
- メソッド分割を学ぶ
- わかりやすい変数名・メソッド名を学ぶ
- 大きな問題を分割する力を学ぶ
</details>

<details><summary>📌 要件 ※ 随時、追加・変更あり</summary>

- [x] `-r`オプションが指定された場合は、取得したファイル一覧を通常の並び順ではなく、配列を`reverse`（逆順に）した結果を表示すること。
- [x] `-r`オプションが指定されていない場合は、これまで通りの順序で表示すること。
- [x] `gem`は使わずに Ruby の標準ライブラリだけで作ること
- [x] `rubocop-fjord`でデバッグを実行し、全てパスさせること
- [x] 完成したコードは GitHub の Pull Request として提出すること

</details>

<details><summary>📍 処理の流れ ※ 随時、追加・変更あり</summary>

1. コマンドライン引数から`-r`オプションの有無を判定する

2. 対象のディレクトリのファイル一覧を配列として取得する

3. `-r`オプションが指定されている場合は、その配列を`reverse`させる

4. 最終的な配列を標準出力として表示する
</details>

<details><summary> 🧩 タスクばらし ※ 随時、追加・変更あり</summary>

- [x] タスク1：コマンドライン引数を解析し、`-r`オプションの有無を取得する。
- [x] タスク2：対象のディレクトリのファイル一覧を配列として取得する
- [x] タスク3：`-r`オプションが指定されている場合、取得した配列に`reverse`メソッドを適用する
- [x] タスク4：最終的な配列を標準出力として表示する
- [x] タスク5：`-r`オプションが指定されていない場合でも、lsコマンドと同じ挙動になることを確認する
- [x] タスク6：rubocop-fjord に通す
- [x] タスク7：提出
  - [x] 作成した lsコマンドを Pull Request として提出
  - [x] 提出物に、lsコマンドの実行結果と、OS標準（macなど自分の使ってるOS）のlsコマンドの実行結果のスクリーンショットを併記して貼る
  - [x] rubocop-fjord のチェックが全てパスした画面をスクショして添付
</details>


---


## 🧑🏻‍💻 本日の取り組み
### 📚 プラクティス『🛠️💻 lsコマンドを作る3』 
- 模範解答を読み解く


---


## ⏭️ 次回
### 📚 プラクティス『lsコマンドを作る4』
- プラクティスの内容を確認する
- できれば、要件・処理の流れ・タスクばらしを作成する


---


### 💡 本日の学び・気付き
<div class="message warning">
    <p>warning：プラクティス『lsコマンドを作る3』の模範解答を載せています。未修了の方は決して開かず、スルーしてください！</p>
</div>
<details><summary> 『🛠️💻 lsコマンドを作る3』の模範解答を読み解く （⚠️ ネタバレに注意）</summary>

今回は`-r`オプションの実装部分を中心に読み解く。
```ruby
def make_list
  options = ARGV.getopts('a', 'r')
  list = Dir.glob('*', options['a'] ? File::FNM_DOTMATCH : 0).sort
  options['r'] ? list.reverse : list
end
```

### -rオプションの取得
```ruby
options = ARGV.getopts('a', 'r')
```
- `getopts`により、
  - `r`オプションが指定されていれば`options['r']  == true`となる。

### -rオプションが指定された場合の処理
```ruby
options['r'] ? list.reverse : list
```
- ここが`-r`オプションの中核となる部分。
- 三項演算子`式 ? 真だった場合の処理 : 偽だった場合の処理`を用いている。
- 処理の流れは以下の通り。
  - 1. `list`はすでに`sort`メソッドで昇順に並び替えられている。
  - 2. `-r`オプションが指定されていれば、`list.reverse`によって配列を逆順にする。
  - 3. `-r`オプションが指定されていなければ、そのままの順序で返す。

つまり、
|オプション   |処理の結果   |
|---|---|
|オプションなし   |sortされた配列   |
|-rオプションが指定   |sort → reverseされた配列   |
</details>


---


## ✍🏻 感想
### 🙌🏻 『lsコマンドを作る3』修了！
今朝、メンターさんから「OK」をいただきました！
仕事中だったため嬉しい気持ちを抑えながらもくもくと業務に徹し、帰宅後はいつものように模範解答の読み解きを行いました。

ここ数日前、「Ruby らしいコードって、こういうコードなのかも🤔」と感じる場面が増えてきました。以前は「そうか、そういう書き方があるのか」で終わっていましたが、最近はコードの型（構造）や意図を考えながら読めるようになり、見方や捉え方が少しずつ変わってきているのを感じます。

引き続き、問題演習を通して Ruby への理解をさらに深めていきたいです。

次のプラクティスは『lsコマンドを作る4』。骨が折れると伺っていますが、臆せず一つ一つ取り組んでいきます。

---


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 hours 37 min
- Total: 1467 hours 36 min
