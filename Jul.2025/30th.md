# 2025/07/30(水)
## 📚 プラクティス『プログラムの修正（リバーシ編）』


### 🧩 タスクばらし
- [x] プラクティスの内容を咀嚼
- [x] タスクばらし、スモールステップの作成
- [x] ソースコードの言語化
- [ ] ソースコードを修正
- [ ] 課題提出


### 🐾 スモールステップ
<details><summary>プラクティスの内容を咀嚼</summary>

- [x] プラクティスの内容を咀嚼
</details>

<details><summary>タスクばらし、スモールステップの作成</summary>

- [x] タスクばらし、スモールステップの作成
</details>

<details><summary>ソースコードの言語化</summary>

- [x] ソースコードの言語化 **※①から順に行う**
  - [x] ① reversi_methods_test.rb
  - [x] ② reversi.rb
  - [x] ③ reversi_methods.rb
  - [x] ④ position.rb


</details>

<details><summary>ソースコードを修正</summary>

- [ ] ソースコードを修正
  - test_cannot_put_stone
    - [ ] 修正
  - test_finished_of_quickest_win_board
    - [ ] 修正
  - test_put_stone
    - [x] 修正
  - test_turn
    - [x] 修正
  - test_finished_of_full_board
    - [ ] 修正

</details>

<details><summary>課題提出</summary>

- [ ] 修正したソースコードを Pull Request としてアップ
- [ ] Pull Request としてアップした URL とテストコードの実行結果を提出
</details>


---
### 🧑🏻‍💻 本日の取り組み
#### プラクティス『プログラムの修正（リバーシ編）』
- `true`を返す原因を突き止める


---


### 🎯 次回
#### プラクティス『プログラムの修正（リバーシ編）』
- `true`を返す原因を突き止める
    

---


### 💡 本日の学び・気付き
#### test_cannot_put_stone
<details open><summary>⚠️ネタバレに触れているような気がするので折り畳みます</summary>

### これまでの復習
#### 分かったこと
- `put_stone`内から`turn`を呼んだ時に、8方向のうちある方向（`bottom_right`）で`true`が返ってきた。
- しかし実際は、石がひっくり返る（裏返しす）べき状況ではないのに`true`が返っていた。
- この挙動の原因を突き止めるために、`turn`メソッドの中の処理を一行ずつ確認する。

### turnメソッド内を調べる
#### 式と変数について確認
##### 1. target_pos.to_cell_ref
- 変数`target_ops`（隣接するマスの位置）に対して`to_cell_ref`メソッドを呼び出す。
##### 2. board[target_pos.row][target_pos.col]
- 変数`board`があり、`[row]`と`[col]`から要素を取り出す。結果として「そのマスに置かれている状況が何なのか」を返す。
##### 3. attack_stone_color
- `turn`メソッドに渡される引数の一つ。「攻撃を仕掛ける石の色（`"B"`または`"W"`）」を指す。
##### 4. direction
- `:top`や`:bottom`などの方向を示す。
</details>


---


### ✍🏻 感想
#### 🧑🏻‍💻 進展なし
気になっているメソッドの内部をポチポチ操作するだけでした。あともう少しだと思うんだけどなぁ......焦らずちょっとずつやっていくしかない！


---


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 hours 18 min
- Total: 1189 hours 18 min
