# 2023/03/01(金)
## 🕺今の気持ち
- どんどんプラクティスを進ませよう
- 成長スピードを早めよう
- 自分の考えや気持ちを簡潔に言語化したり、相手にわかりやすく伝える話し方ができるようになろう
- 心と身体の状態を把握しながら行動しよう
---


## ✍🏻本日の取り組み
#### プラクティス『SSH の基本を理解する』

---


## 💡学んだこと
<details><summary>公開鍵認証方式で接続するための準備を行う（途中まで）</summary>

### ssh-keygenコマンドとは？
SSH（Secure Shell）の公開鍵と秘密鍵のペアを生成するためのコマンドです。これらの鍵は、SSH接続で使用され、公開鍵認証方式による安全な接続を可能にします。

### ssh-keygenコマンドの基本的な使用方法
1. 鍵の生成：新しく公開鍵と秘密鍵のペアを生成します。
2. 鍵の保存場所の指定：`ssh-keygen`コマンドを実行すると、鍵を保存する場所を尋ねられます。デフォルトの場所は`~/.ssh/id_rsa`です。
3. パスフレーズの設定：鍵に対するパスフレーズを設定します。パスフレーズは、鍵を使用する際の追加的な保護を提供します。パスフレーズを設定しないと、鍵が盗まれた場合に誰でもその鍵を使用できてしまいます。一方、パスフレーズを設定すると、鍵を使用するたびにパスフレーズを入力する必要があります。

### 秘密鍵とパスフレーズとの違い
秘密鍵とパスフレーズは、両方とも認証に使用されますが、その目的と使用方法は異なります。

**秘密鍵**は、公開鍵暗号化の一部として使用されます。公開鍵と秘密鍵はペアで作成され、公開鍵を使用して暗号化されたデータは対応する秘密鍵を使用してのみ復号化できます。SSH接続では、秘密鍵はクライアント（接続を行う側）に保持され、公開鍵はサーバー（接続を受ける側）に登録されます。秘密鍵は他人に知られることなく安全に保管する必要があります。

一方、**パスフレーズ**は、秘密鍵をさらに保護するためのものです。パスフレーズは、秘密鍵を暗号化し、その秘密鍵を使用する前にパスフレーズの入力を求めます。これにより、たとえ秘密鍵が何らかの理由で第三者に漏洩したとしても、パスフレーズがなければその秘密鍵を使用することはできません。パスフレーズは通常、強力な暗号化アルゴリズムを使用して秘密鍵を保護します。

したがって、秘密鍵はデータの暗号化と復号化に直接使用され、パスフレーズは秘密鍵自体の保護に使用されるという違いがあります。

- アルゴリズム：問題を解決するための手順やルールのことを指します。コンピューターサイエンスの文脈では、アルゴリズムはデータを操作し、計算を行い、問題を解決するための詳細な手順を指します。

### Ed25519 をアルゴリズムとして指定して鍵の生成を行う
`Ed25519`をアルゴリズムとして指定して鍵の生成を行います。もし、安全性を確保したい場合は、パスフレーズを設定することができます。
1. 鍵の生成

   - 以下のコマンドを入力します
`ssh-keygen -t ed25519`

   - `Generating public/private ed25519 key pair.
Enter file in which to save the key (/home/yoshiwo/.ssh/id_ed25519):`
ed25519 の公開鍵/秘密鍵ペアを生成する。鍵を保存するファイルを入力 (/home/yoshiwo/.ssh/id_ed25519)と表示されるので、returnキーを押します。

    - `Enter passphrase (empty for no passphrase):`
パスフレーズを入力する（パスフレーズなしの場合は空）と表示されるので任意で設定・非設定を決めます。
ちなみに設定すると、`Enter same passphrase agein:`と表示されるので設定したパスフレーズをもう一度入力してreturnキーを押します。

    - 生成された公開鍵と秘密鍵のパスについて
公開鍵：~/.ssh/id_ed25519.pub
秘密鍵：~/.ssh/id_ed25519

2. 生成した鍵を確認
    - `ls -l <生成された鍵のパス>`でファイルの詳細な情報を表示します。
    - `less <生成された鍵のパス>`で指定したパスにある鍵ファイルの内容が表示されます。

3. `chmod`コマンドを使い、秘密鍵のパーミッションを変更
    - 秘密鍵のパーミッションは、所有者のみがアクセスできるものに変更しておく必要があります。以下のコマンドを入力して設定を行います。
`chmod 600 ~/.ssh/id_ed25519`

    - パーミッションが意図したものになっているかどうかを ls コマンドを使って確認します
`ls -l ~/.ssh/id_ed25519`

4. 公開鍵をサーバーに登録する作業を行う
公開鍵の登録には`ssh-copy-id`コマンドを使用します。このコマンドは公開鍵をリモートホスト（サーバー側）に登録するためのコマンドです。以下のコマンドを入力して行います。
    - `ssh-copy-id -i ~/.ssh/id_ed25519.pub -p5555 yoshiwo@160.16.241.119`
`-i`オプションは必須ではありません。`-i`オプションを省略した場合`ssh-copy-id`コマンドはデフォルトの公開鍵（通常は`~/.ssh/id_rsa.pub`, `~/.ssh/id_dsa.pub`, `~/.ssh/id_ecdsa.pub`, `~/.ssh/id_ed25519.pub`のいずれか）を使用します。

5. サーバー側で公開鍵が登録されていることを確認

`ls -l ~/.ssh/authorized_keys`を入力すると以下の内容が表示されました。

```
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/yoshiwo/.ssh/id_ed25519.pub"
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are aleady installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed - - if you are prompted now it is to install the new keys
yoshiwo@160.16.241.119: Permission denied (publickey).
```

エラーメッセージを確認すると、どうやらSSH公開鍵認証に失敗したのかな？と推測しています。次回はこのエラーに対処していきます。


</details>

---


## 🌞次の目標
-  プラクティス『SSH の基本を理解する』をコツコツと進める

---


## ❤️‍🔥感想
#### 🟫最後にエラーという壁に遭遇
このまま提出までいけるかな？と思ったのですが、エラーメッセージが表示されました。必ず乗り越えます。

---


## ⏰学習時間
- Today:&nbsp;&nbsp;&nbsp; 4 hours 46 min
- Total: 188 hours 31 min
