# 2025/05/18(æ—¥)
## ğŸ“š ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä¿®æ­£ï¼ˆãƒªãƒãƒ¼ã‚·ç·¨ï¼‰ã€


## ğŸ§© ã‚¿ã‚¹ã‚¯ã°ã‚‰ã—
- [x] ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®å†…å®¹ã‚’å’€åš¼
- [x] ã‚¿ã‚¹ã‚¯ã°ã‚‰ã—ã€ã‚¹ãƒ¢ãƒ¼ãƒ«ã‚¹ãƒ†ãƒƒãƒ—ã®ä½œæˆ
- [ ] ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è¨€èªåŒ–
- [ ] ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£
- [ ] èª²é¡Œæå‡º


## ğŸ¾ ã‚¹ãƒ¢ãƒ¼ãƒ«ã‚¹ãƒ†ãƒƒãƒ—
<details><summary>ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®å†…å®¹ã‚’å’€åš¼</summary>

- [x] ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®å†…å®¹ã‚’å’€åš¼
</details>

<details><summary>ã‚¿ã‚¹ã‚¯ã°ã‚‰ã—ã€ã‚¹ãƒ¢ãƒ¼ãƒ«ã‚¹ãƒ†ãƒƒãƒ—ã®ä½œæˆ</summary>

- [x] ã‚¿ã‚¹ã‚¯ã°ã‚‰ã—ã€ã‚¹ãƒ¢ãƒ¼ãƒ«ã‚¹ãƒ†ãƒƒãƒ—ã®ä½œæˆ
</details>

<details><summary>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è¨€èªåŒ–</summary>

- [ ] ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è¨€èªåŒ– **â€»â‘ ã‹ã‚‰é †ã«è¡Œã†**
  - [x] â‘  reversi_methods_test.rb
  - [x] â‘¡ reversi.rb
  - [ ] â‘¢ reversi_methods.rb
  - [ ] â‘£ position.rb


</details>

<details><summary>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£</summary>

- [ ] ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£
  - test_cannot_put_stone
    - [ ] ä¿®æ­£
  - test_finished_of_quickest_win_board
    - [ ] ä¿®æ­£
  - test_put_stone
    - [ ] ä¿®æ­£
  - test_turn
    - [ ] ä¿®æ­£
  - test_finished_of_full_board
    - [ ] ä¿®æ­£

</details>

<details><summary>èª²é¡Œæå‡º</summary>

- [ ] ä¿®æ­£ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ Pull Request ã¨ã—ã¦ã‚¢ãƒƒãƒ—
- [ ] Pull Request ã¨ã—ã¦ã‚¢ãƒƒãƒ—ã—ãŸ URL ã¨ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œçµæœã‚’æå‡º
</details>


---


## ğŸ§‘ğŸ»â€ğŸ’» æœ¬æ—¥ã®å–ã‚Šçµ„ã¿
### ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä¿®æ­£ï¼ˆãƒªãƒãƒ¼ã‚·ç·¨ï¼‰ã€
- reversi_methods.rbãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨€èªåŒ–


---


## ğŸ¯ æ¬¡å›
### ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä¿®æ­£ï¼ˆãƒªãƒãƒ¼ã‚·ç·¨ï¼‰ã€
- reversi_methods.rbãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨€èªåŒ–
    

---


## ğŸ’¡ æœ¬æ—¥ã®å­¦ã³ãƒ»æ°—ä»˜ã
### reversi_methods.rbãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨€èªåŒ–
reversi_methods.rbãƒ•ã‚¡ã‚¤ãƒ«
```ruby
    copy_board(board, copied_board) if !dry_run && turn_succeed # ã‚‚ã—dry_runï¼ˆãƒ†ã‚¹ãƒˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã§ã¯ãªãã€ä¸”ã¤turn_succeedï¼ˆçŸ³ã®è£è¿”ã—ã«æˆåŠŸã—ãŸï¼‰ãªã‚‰ã€boardã¨copied_boardã‚’å¼•æ•°ã«æ¸¡ã—ã¦copy_boardãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™

    turn_succeed # â†ã‚ã‹ã‚‰ãªã„
  end # put_stoneãƒ¡ã‚½ãƒƒãƒ‰ã®å®šç¾©çµ‚äº†

  def turn(board, target_pos, attack_stone_color, direction) # ç›¤é¢boardã®ä¸Šã§ã€ä½ç½®target_posã‹ã‚‰directionã«å‘ã‹ã£ã¦ã€attack_stone_colorã®çŸ³ã®è£è¿”ã—å‡¦ç†ã‚’è¡Œã†turnãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹
    return false if target_pos.out_of_board? # ã‚‚ã—target_posãŒç›¤é¢ã‹ã‚‰å¤–ã‚Œã¦ã„ãŸã‚‰ã€falseã‚’è¿”ã—ã¦ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é€”ä¸­ã§è„±å‡ºã™ã‚‹
    return false if target_pos.stone_color(board) == attack_stone_color # ã‚‚ã—ã€target_opsã«æ—¢ã«è‡ªåˆ†ã¨åŒã˜è‰²ã®çŸ³ãŒç½®ã‹ã‚Œã¦ã„ãŸã‚‰ï¼ˆè£è¿”ã—ãŒã§ããªã„ã®ã§ï¼‰`false`ã‚’è¿”ã—ã¦å‡¦ç†ã‚’çµ‚ãˆã‚‹

    next_pos = target_pos.next_position(direction)
    if (next_pos.stone_color(board) == attack_stone_color) || turn(board, next_pos, attack_stone_color, direction)
      board[target_pos.row][target_pos.col] = attack_stone_color
      true
    else
      false
    end
  end

  def finished?(board)
    !placeable?(board, WHITE_STONE) && !placeable?(board, BLACK_STONE)
  end

  def placeable?(board, attack_stone_color)
    board.each_with_index do |cols, row|
      cols.each_with_index do |cell, col|
        next unless cell == BLANK_CELL

        position = Position.new(row, col)
        return true if put_stone(board, position.to_cell_ref, attack_stone_color, dry_run: true)
      end
    end
  end

  def count_stone(board, stone_color)
    board.flatten.count { |cell| cell == stone_color }
  end
end
```
- `copy_board(board, copied_board) if !dry_run && turn_succeed`
  - `!`ï¼šã“ã®ã¨ãã®`!`ã¯è«–ç†å¦å®šã®æ¼”ç®—å­ã€‚ãŸã¨ãˆã°`!A`ã‚’æ›¸ã„ãŸå ´åˆã€AãŒçœŸã§ã‚ã‚Œã°`false`ã‚’ã€ãã†ã§ãªã‘ã‚Œã°`true`ã‚’è¿”ã™ã€‚
  - if ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™ã¨ãã ã‘ã«`copy_board(board, copied_board)`ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã€‚
- `return false if target_pos.out_of_board?`
  - `return`ï¼šã“ã®ã¨ãã®`return`ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é€”ä¸­ã§è„±å‡ºã™ã‚‹å ´åˆã«ä½¿ã‚ã‚Œã‚‹`return`ã€‚
  - `out_of_board?`ï¼š`?`ã§çµ‚ã‚ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãªã®ã§ã€ã“ã‚Œã¯è¿°èªãƒ¡ã‚½ãƒƒãƒ‰ã€‚çœŸå½å€¤ï¼ˆ`true`ã‚„`false`ï¼‰ã‚’è¿”ã™ãƒ¡ã‚½ãƒƒãƒ‰ã«ãªã‚‹ã€‚ã“ã“ã§ã¯ç¯„å›²å¤–ãªã‚‰`true`ã€ç¯„å›²å†…ãªã‚‰`false`ã‚’è¿”ã™ã€‚
- `return false if target_pos.stone_color(board) == attack_stone_color`
  - `attack_stone_color`ï¼šã€Œã“ã‚Œã‹ã‚‰ç½®ã“ã†ã¨ã—ã¦ã„ã‚‹è‡ªåˆ†ã®çŸ³ã€ã€‚



---


## âœğŸ» æ„Ÿæƒ³
### âšªï¸âš«ï¸ è¨€èªåŒ–ã®é›£ã—ã•ã‚’å®Ÿæ„Ÿ
ã‚³ãƒ¼ãƒ‰ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ä¸€è¡Œãšã¤è¨€èªåŒ–ã—ã¦ã„ã¾ã™ãŒã€ä»Šæ—¥ã¯ç‰¹ã«å¤§å¤‰ã«æ„Ÿã˜ã¾ã—ãŸã€‚ä½•åº¦ã‚‚ãƒã‚§ãƒªãƒ¼æœ¬ã‚’å‚ç…§ã—ãªãŒã‚‰ã€å‡¦ç†ã®æ„å‘³ã‚„å‹•ãã‚’ç¢ºèªã—ã¦è¨€èªåŒ–ã‚’ç¹°ã‚Šè¿”ã—ã¾ã—ãŸã€‚é›£ã—ã„ã§ã™ãŒã€å°‘ã—ãšã¤ç†è§£ãŒæ·±ã¾ã£ã¦ã„ã‚‹å®Ÿæ„ŸãŒã‚ã‚Šã¾ã™ï¼

---


### â° å­¦ç¿’æ™‚é–“
- Today:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5 hours 31 min
- Total: 1115 hours 14 min
