# 2025/11/20(木)
## 📚 プラクティス『🧑🏻‍💻↔️📡 HTTPの基本について理解する』
<details><summary> 🎯 修了条件</summary>

### やること
- [x] [HTTP入門](https://www.tohoho-web.com/ex/http.html)を読む
- [ ] telnet でget, postをして、HTTP通信がどのように行われているかをみる
- [ ] requestとresponse、headerとbodyを理解する

### 以下を提出
- [ ] telnet で get したログと POST したログを提出する

### ⚠️ 注意
> **response headerだけでなく、bodyも重要なので提出してください。**
</details>

<details><summary> 🧩 タスクばらし</summary>

- [ ] 参考サイトの確認
  - [x] [HTTP入門](https://www.tohoho-web.com/ex/http.html)
  - [x] [もいちどイチから！HTTP基礎訓練中（1話、2話あたり）](https://atmarkit.itmedia.co.jp/fsecurity/index/index_httpbasic.html)
  - [x] [telnetで手入力でHTTPをしゃべってみる](https://tech.softel.co.jp/blog/archives/263)
  - [x] [telnetでブラウズ（HTTP）](http://ash.jp/net/telnet_http.htm)
  - [x] [macOSからTelnetでHTTP通信する方法](https://weblabo.oscasierra.net/http-telnet-macos/)
- [ ] 参考書籍
  - [ ] 『この一冊で全部わかるWeb技術の基本』
- [ ] telnet で get したログと POST したログを提出する
</details>


---


## 🧑🏻‍💻 本日の取り組み
### プラクティス『🧑🏻‍💻↔️📡 HTTPの基本について理解する』
- 参考サイトの確認
  - [もいちどイチから！HTTP基礎訓練中（1話、2話あたり）](https://atmarkit.itmedia.co.jp/fsecurity/index/index_httpbasic.html)
  - [telnetで手入力でHTTPをしゃべってみる](https://tech.softel.co.jp/blog/archives/263)
  - [telnetでブラウズ（HTTP）](http://ash.jp/net/telnet_http.htm)
  - [macOSからTelnetでHTTP通信する方法](https://weblabo.oscasierra.net/http-telnet-macos/)
- GETメソッドを送信してログを取得


---


## ⏭️ 次回
### プラクティス『🧑🏻‍💻↔️📡 HTTPの基本について理解する』
- POSTメソッドを送信してログを取得
- 書籍『この一冊で全部わかるWeb技術の基本』


---


## 💡 本日の学び・気付き
### 気になる用語・フレーズをピックアップ
- クロスサイトスクリプティング：悪い人が作ったスクリプト（小さなプログラム）が、あなたが使用しているブラウザ上で勝手に実行されてしまう攻撃のこと。
- HTTP通信ではリクエストとレスポンスの一対が基本。
- HTTPリクエストの一行目は、リクエストライン（Request-Line）と呼ばれ、`「メソッド / リクエストURI / HTTPバージョン」`とスペースで 3つに区切られる。
- HTTPリクエストの二行目以降は、リクエストヘッダと呼ばれ、`「ヘッダ名: ヘッダ値」`という形で情報が記載される。
- telnet：PC から通信相手（サーバ）に文字だけで直接アクセスするためのツール。もっと簡単に言うと、「**ブラウザを使用せずに、サーバと直接おしゃべりができる道具**」。
- プロキシ（Proxy）：「代理」という意味。
- プロキシ設定：あなたが使用している PC やブラウザが、「インターネットにアクセスするときは、この代理人（プロキシ）を通ってね」と決める設定のこと。
- telnet でも HTTP通信はできない。telnet で HTTP通信を行う場合には OpenSSL などを利用することになる。
- Referer：「どのページから来たのか」を示す情報のこと。
- エンコード（encode）：データをある決められたルールに従って別の形に変換することをエンコードと言う。
- ディレクトリトラバーサル：本来アクセスしてはいけないフォルダやファイルに侵入されてしまう攻撃のこと。
- クロスサイトリクエストフォージェリ（CSRF）：ユーザが知らない間に「**勝手に操作させられる**」攻撃のこと。
- HTTPリクエストのパラメータを見れば脆弱性が見えてくる。
- HTTPプロトコルは、TCP/IP上のプロトコルで、通常80番ポートを使ってアクセスする。基本的に、メッセージを要求（リクエスト）し、その応答結果（レスポンス）を表示するだけ。
- Apache：有名な Webサーバの一つで、Webページをブラウザに届ける配達係。
- アクセスログの書式
```
アクセス元 - - [アクセス時間] "メソッド名 URL名 プロトコルバージョン" レスポンスコード
例：
　10.0.1.20 - - [01/Jul/1999:23:22:46 +0900] "GET /usr/joe/index.html HTTP/1.0" 200 2060
```

### macOSからTelnetでHTTP通信する方法
#### Telnetコマンドのインストール
```shell
% brew install telnet
```

#### ホストへの接続
```shell
% telnet ホスト名 ポート番号
```

#### HTTPS通信をする
Telnet は SSL/TLS での通信に対応していないため、HTTPS（443）に対してリクエストを送ることができない。HTTPS のサイトに接続したい場合は`openssl`コマンドを利用すると良い。
```shell
% openssl s_client -connect ホスト名:443 -crlf
```
コマンドを実行すると暗号通信のための鍵の情報が表示され、そのあとに Telnet と同様にコマンドを受け付ける状態になるので、telnetコマンド同様に利用することができる。

### 実際にやってみる
<details><summary> GETメソッドを送ってみる （⚠️ ネタバレに注意）</summary>

### Telnetコマンドのインストール
```shell
% brew install telnet
==> Auto-updating Homebrew...
Adjust how often this is run with HOMEBREW_AUTO_UPDATE_SECS or disable with
HOMEBREW_NO_AUTO_UPDATE. Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
==> Downloading https://ghcr.io/v2/homebrew/core/portable-ruby/blobs/sha256:b48c918b7693c6d27e8027dc803a18cf64ddce49552fb45d88f3cabb9eead0fd
########################################################################################################## 100.0%
==> Pouring portable-ruby-3.4.7.catalina.bottle.tar.gz
==> Auto-updated Homebrew!
Updated 1 tap (homebrew/services).
No changes to formulae or casks.

==> Fetching downloads for: pkgconf
✔︎ Bottle Manifest pkgconf (2.5.1)                                                   [Downloaded   12.2KB/ 12.2KB]
✔︎ Bottle pkgconf (2.5.1)                                                            [Downloaded  116.5KB/116.5KB]
==> Reinstalling pkgconf 
==> Pouring pkgconf--2.5.1.sequoia.bottle.tar.gz
Error: The `brew link` step did not complete successfully
The formula built, but is not symlinked into /usr/local
Could not symlink bin/pkg-config
Target /usr/local/bin/pkg-config
is a symlink belonging to pkg-config. You can unlink it:
  brew unlink pkg-config

To force the link and overwrite all conflicting files:
  brew link --overwrite pkgconf

To list all files that would be deleted:
  brew link --overwrite pkgconf --dry-run

Possible conflicting files are:
/usr/local/bin/pkg-config -> /usr/local/Cellar/pkg-config/0.29.2_3/bin/pkg-config
/usr/local/share/aclocal/pkg.m4 -> /usr/local/Cellar/pkg-config/0.29.2_3/share/aclocal/pkg.m4
/usr/local/share/man/man1/pkg-config.1 -> /usr/local/Cellar/pkg-config/0.29.2_3/share/man/man1/pkg-config.1
==> Summary
🍺  /usr/local/Cellar/pkgconf/2.5.1: 28 files, 385.5KB
==> Reinstalled pkgconf due to macOS version mismatch
==> Fetching downloads for: telnet
✔︎ Bottle Manifest telnet (306)                                                      [Downloaded    7.4KB/  7.4KB]
✔︎ Bottle telnet (306)                                                               [Downloaded   63.3KB/ 63.3KB]
==> Pouring telnet--306.sonoma.bottle.tar.gz
🍺  /usr/local/Cellar/telnet/306: 5 files, 186.5KB
==> Running `brew cleanup telnet`...
Disable this behaviour by setting `HOMEBREW_NO_INSTALL_CLEANUP=1`.
Hide these hints with `HOMEBREW_NO_ENV_HINTS=1` (see `man brew`).
```
- 私の場合、`Error`が表示されているが、既存の`pkg-config`と`pkgconf`が競合しただけで、telnet とは関係ないみたい（よく分かっていない）🤔

### Telnet を使ってホスト（ダミーサイト）に直接接続する
```shell
% telnet dummy-bootcamp-fjord-jp.herokuapp.com 80
Trying 18.211.231.38...
Connected to dummy-bootcamp-fjord-jp.herokuapp.com.
Escape character is '^]'.
          # ←ここから文字列を直接打ち込むことができる
```

### GET を送ってログを取得する
```shell
# 以下の内容を打ち込む
# 改行は、shift + return で行うこと
GET /articles HTTP/1.1
Host: dummy-bootcamp-fjord-jp.herokuapp.com

HTTP/1.1 200 OK   # ←ここからが取得した内容

# 中略

<a href="/articles/new">New article</a>

  </body>
</html>

0

Connection closed by foreign host.
```


---


## ✍🏻 感想
今回は telnet を使用してホスト（ダミーサイト）に直接接続し、GETメソッドを送信してログを取得するところまでできました。ブラウザを通さずに手動でサイトに通信できる状態が面白かったです。次回は POSTメソッドの送信に挑戦です......GET に比べて入力がややこしそうですね🤔


---


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 hours 47 min
- Total: 1419 hours 46 min
