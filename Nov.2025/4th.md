# 2025/11/04(火)
## 📚 Ruby の基礎を押さえる

<details><summary>🔰 基礎をおさらい</summary>

- [x] 書籍『ゼロからわかる Ruby超入門』
- [ ] 書籍『たのしいRuby 第6版』
  - [x] 第1章 はじめてのRuby
  - [x] 第2章 便利なオブジェクト
  - [x] 第3章 コマンドを作ろう
  - [x] 第4章 オブジェクトと変数・定数
  - [x] 第5章 条件判断
  - [x] 第6章 繰り返し
  - [ ] 第7章 メソッド
  - [ ] 第8章 クラスとモジュール
  - [ ] 第9章 演算子
  - [ ] 第10章 エラー処理と例外
  - [ ] 第11章 ブロック
  - [ ] 第12章 数値（Numeric）クラス
  - [ ] 第13章 配列（Array）クラス
  - [ ] 第14章 文字列（String）クラス
  - [ ] 第15章 ハッシュ（Hash）クラス
  - [ ] 第16章 正規表現（Regexp）クラス
  - [ ] 第17章 IOクラス
  - [ ] 第18章 FileクラスとDirクラス
  - [ ] 第19章 エンコーディング（Encoding）クラス
  - [ ] 第20章 TimeクラスとDateクラス
  - [ ] 第21章 Procクラス
  - [ ] 第22章 テキスト処理を行う
  - [ ] 第23章 郵便番号データを検索する
</details>


---


## 🧑🏻‍💻 本日の取り組み
### 📕 書籍『たのしいRuby 第6版』
- 第7章 メソッド
  - 「メソッド」 〜 「メソッドの分類」まで


---


## ⏭️ 次回
### 📕 書籍『たのしいRuby 第6版』
- 第7章 メソッド
  - 「メソッドの定義」 〜

### 🤖 ChatGPT演習問題
- ChatGPT の演習問題に取り組む（コードの読み書き練習）


---


## 💡 本日の学び・気付き
### メソッド
**メソッド**は、オブジェクトに定義されているもので、そのオブジェクトに関連する操作を行うために使われる。Ruby では、すべての操作がメソッドとして実装されている。

### メソッドの呼び出し
```ruby
# メソッド呼び出しの構文
オブジェクト.メソッド名(引数1, 引数2, ..., 引数n)
```
先頭にオブジェクトが 1つ置かれ、その後ろにピリオド`.`を挟み、メソッド名が続く。メソッド名の後ろには、`()`で囲まれた**メソッドの引数**が並ぶ。**引数の数と順番はメソッドごとに決められている**ため、それに合わせて指定しなければならない。

上記の構文にある「オブジェクト」は、**レシーバ**（receiver）とも呼ばれる。オブジェクト指向の世界では、メソッドを実行することを「オブジェクトにメッセージを送る」、その結果「オブジェクトはメッセージを受け取る（receiveする）」と考えている。つまり、**あるオブジェクトに対して、いくつかのパラメータと共にメッセージが送られる**、というイメージ。

### ブロック付きメソッドの呼び出し
`each`メソッドや`loop`メソッドのようにブロックを伴うメソッドの呼び出しを**ブロック付きメソッド呼び出し**という。
```ruby
# ブロック付きメソッド呼び出しの構文
オブジェクト.メソッド名(引数, ...) do |変数1, 変数2, ...|
  ブロックの内容
end
```
`do ~ end`の部分がブロック。ブロックは`do ~ end`のほかに`{ ~ }`という形式で次のように書くこともできる。
```ruby
# { ~ } の形式
オブジェクト.メソッド名(引数, ...) do {|変数1, 変数2, ...|
  ブロックの内容
}
```
`do ~ end`の形式では、引数リストを囲む`()`を省略しても大丈夫。`{ ~ }`の形式の場合は、引数がない場合にのみ`()`を省略できるが、引数が 1つ以上ある場合は省略できない。

ブロックの最初のパイプ`||`で囲まれた部分に指定された変数は**ブロック変数**または**ブロックパラメータ**という。この変数にはブロックを実行するたびに、メソッドからパラメータが渡される。パラメータの数や値はメソッドごとに異なる。

### 演算子の形式のメソッド呼び出し
演算子の形をしているメソッドもある。四則演算などの 2項演算子、`-`（マイナス）などの単項演算子、配列やハッシュの要素を添字でで指定する`[]`などがメソッドとなっている。
- `obj + arg1`
- `obj =~ arg1`
- `-obj `
- `!obj`
- `obj[arg1]`
- `obj[arg1] = arg2`

### メソッドの分類
Ruby のメソッドは、レシーバによって、3種類に分けることができる。
- `インスタンスメソッド`
- `クラスメソッド`
- `関数的メソッド`

### インスタンスメソッド
最も一般的なメソッド。あるオブジェクト（インスタンス）があったとき、そのオブジェクトをレシーバとするメソッドのことを**インスタンスメソッド**と呼ぶ。
```ruby
# 文字列オブジェクトがレシーバ
p "10, 20, 30, 40".split(",") #=> ["10", "20", "30", "40"]

# 配列オブジェクトがレシーバ
p [1, 2, 3, 4].index(2) #=> 1

# 数値オブジェクトがレシーバ
p 1000.to_s #=> "1000"
```
オブジェクトに対してどのようなインスタンスメソッドが使えるかは、そのオブジェクトの種類（クラス）によって決められる。オブジェクトに対してインスタンスメソッドを呼び出すと、そのクラスごとに決められた処理が実行される。

### クラスメソッド
レシーバがインスタンスではなくクラスそのものだった場合、そのメソッドは**クラスメソッド**という。たとえば、インスタンスを作る場合には、クラスメソッドが使われる。
```ruby
Array.new              # 新しい配列を作る
File.open("some_file") # 新しいファイルオブジェクトを作る
Time.now               # 新しいTimeオブジェクトを作る
```
直接インスタンスを操作するわけではないが、そのクラスに関連する操作を行いたい場合にも、クラスメソッドが使われる。
```ruby
File.rename(oldname, newname) # ファイル名を変更する
```
クラスメソッドにも演算子の形をしているものがある。
```ruby
Array["a", "b", "c"] # ["a", "b", "c"]という配列を生成する
```
クラスメソッドの呼び出しには、`.`の代わりに`::`を使うこともできる。どちらも Ruby の文法としては同じ意味。

### 関数的メソッド
レシーバがないメソッドを、**関数的メソッド**と呼ぶ。「レシーバがない」といっても、本当にないわけではなく、関数的メソッドの場合、それが省略されている。
```ruby
print "hello!" # コンソールに文字列を出力する
sleep(10)      # 指定された秒数の間、処理を休止する
```

### メソッドの表記法
あるクラスのインスタンスメソッドの名前を表記するには`Array#each`や`Array#inject`のように、
```ruby
クラス名#メソッド名
```
と書く。これはドキュメントや説明のための表記法なので、プログラム中に書くとエラーになってしまう。

一方、クラスメソッドの名前の表記には、`Array.new`または`Array::new`のように、
```ruby
クラス名.メソッド名
クラス名::メソッド名
```
という 2通りの書き方がある。これらは実際にプログラム中で使用する場合にも同じように記述できる。


---


## ✍🏻 感想
### 🧘🏻 ゆっくり丁寧に
プラクティス『lsコマンドを作る1』で躓いている**メソッド**を中心に学び直しています。ここは重要な基礎なので、他の箇所よりもゆっくり丁寧に理解を深めていきたいです。


---


## ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 hours 06 min
- Total: 1382 hours 28 min
