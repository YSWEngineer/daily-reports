# 2025/10/23(木)
## 📚 Ruby の基礎を押さえる

<details><summary>🔰 基礎をおさらい</summary>

- [x] 書籍『ゼロからわかる Ruby超入門』
- [ ] 書籍『たのしいRuby 第6版』
  - [x] 第1章 はじめてのRuby
  - [x] 第2章 便利なオブジェクト
  - [x] 第3章 コマンドを作ろう
  - [x] 第4章 オブジェクトと変数・定数
  - [ ] 第5章 条件判断
  - [ ] 第6章 繰り返し
  - [ ] 第7章 メソッド
  - [ ] 第8章 クラスとモジュール
  - [ ] 第9章 演算子
  - [ ] 第10章 エラー処理と例外
  - [ ] 第11章 ブロック
  - [ ] 第12章 数値（Numeric）クラス
  - [ ] 第13章 配列（Array）クラス
  - [ ] 第14章 文字列（String）クラス
  - [ ] 第15章 ハッシュ（Hash）クラス
  - [ ] 第16章 正規表現（Regexp）クラス
  - [ ] 第17章 IOクラス
  - [ ] 第18章 FileクラスとDirクラス
  - [ ] 第19章 エンコーディング（Encoding）クラス
  - [ ] 第20章 TimeクラスとDateクラス
  - [ ] 第21章 Procクラス
  - [ ] 第22章 テキスト処理を行う
  - [ ] 第23章 郵便番号データを検索する
</details>


---


## 🧑🏻‍💻 本日の取り組み
### 📕 書籍『たのしいRuby 第6版』
- 第3章 コマンドを作ろう
- 第4章 オブジェクトと変数・定数
- ChatGPT の演習問題を解く（コードの読み書き）


---


## ⏭️ 次回
### 📕 書籍『たのしいRuby 第6版』
- 第5章 条件判断
- ChatGPT の演習問題を解く（コードの読み書き）


---


## 💡 本日の学び・気付き
### nilとは？
- `nil`はオブジェクトが存在しないことを表す特別な値。メソッドが意味のある値を返すことができないときに`nil`が返される。また、配列やハッシュからデータを取り出す場合に、まだ存在していないインデックスやキーを指定すると次のように`nil`が得られる。
```ruby
>> item = {"name"=>"ブレンド", "price"=>610}
=> {"name"=>"ブレンド", "price"=>610}
>> item["tax"]
=> nil
```

### コマンドラインからのデータの入力
- プログラムにデータを与えるには、コマンドラインを利用する方法が一番簡単。コマンドラインの情報をデータとして受け取るには「**ARGV**（アーグヴイ）」という配列オブジェクトを使う。ARGV という配列は、コマンドラインからスクリプトの引数として与えられた文字列を要素として持っている。
```ruby
puts "最初の引数: #{ARGV[0]}"
puts "2番目の引数: #{ARGV[1]}"
puts "3番目の引数: #{ARGV[2]}"
puts "4番目の引数: #{ARGV[3]}"
puts "5番目の引数: #{ARGV[4]}"

# 実行結果
% ruby puts_argv.rb 1st 2nd 3rd 4th 5th
最初の引数: 1st
2番目の引数: 2nd
3番目の引数: 3rd
4番目の引数: 4th
5番目の引数: 5th
```

- 配列ARGV を使えば、データをプログラムの中にすべて書いておく必要はなくなる。配列なので、要素を取り出して変数に代入することもできる。
```ruby
name = ARGV[0]
puts "Happy Birthday, #{name}!"

# 実行結果
% ruby happy_birth.rb Ruby
Happy Birthday, Ruby!
```

- **引数から取得したデータは文字列**になっている。これを計算に使うときは**数値に変換する**必要がある。
```ruby
num0 = ARGV[0].to_i
num1 = ARGV[1].to_i
puts "#{num0} + #{num1} = #{num0 + num1}"
puts "#{num0} - #{num1} = #{num0 - num1}"
puts "#{num0} * #{num1} = #{num0 * num1}"
puts "#{num0} / #{num1} = #{num0 / num1}"

# 実行結果
% ruby arg_arith.rb 5 3
5 + 3 = 8
5 - 3 = 2
5 * 3 = 15
5 / 3 = 1
```

### メソッドの作成
- メソッドは自分で作ることができる。メソッドを作成する構文は次のようになる。
```ruby
def hello
  puts "Hello, Ruby."
end
```
- ↑しかし、この3行だけではプログラムを実行しても何も起こらない。何故なら`hello`メソッドが呼び出される前に、プログラムが終わってしまっているから。そのため、自分で作成した**メソッドを実行するコードも必要**となる。
```ruby
def hello
  puts "Hello, Ruby."
end

hello()   # 引数を持たないメソッドなので()を省略しても良い！

# 実行結果
% ruby hello_ruby2.rb
Hello, Ruby.
```

### 別のファイルを取り込む
- あるプログラムで使った自作メソッドを別のプログラムで利用したいといった場合、別々のファイルに分割されたプログラムを組み合わせて、1つのプログラムとして利用するための機能を持っている。他のプログラムから読み込んで利用するためのプログラムを**ライブラリ**という。
- プログラムの中でライブラリを読み込むには、`require`メソッドまたは`require_relative`メソッドを使う。
```ruby
# requireメソッド
require 使いたいライブラリのファイル名

#require_relativeメソッド
require_relative 使いたいライブラリのファイル名
```
- `require`メソッドを呼ぶと、Ruby は引数に指定されたライブラリを探して、そのファイルに書かれた内容を読み込む。ライブラリの読み込みが終わると再び、`require`メソッドの次の行から処理を再開する。
- `require`メソッドは既存のライブラリを読み込むときに使う。
- `require_relative`メソッドは、実行するプログラムが置かれたディレクトリ（フォルダ）を基準にしてライブラリを探す。

### ppメソッド
- `p`メソッドと同じような目的に使われるメソッドとして、`pp`メソッドがある。`pp`は「Pretty Print」の略。
- `p`メソッドとは異なり、`pp`メソッドはオブジェクトの構造を表示する際に、適当に改行を補って整形してくれる。ハッシュの配列のように、入れ子になったコンテナを確認する場合に利用するとよい。

### オブジェクト
- Ruby では**データを表現する基本的な単位**を**オブジェクト**という。

### オブジェクトの種類
- **数値オブジェクト**
  - 数を表すオブジェクト。
- **文字列オブジェクト**
  - 文字の並びからなるオブジェクト。
- **配列オブジェクト**、**ハッシュオブジェクト**
  - 複数のデータをまとめるためのオブジェクト。
- **正規表現オブジェクト**
  - マッチングのためのパターンを表すオブジェクト。
- **時刻オブジェクト**
  - 時刻を表すオブジェクト。
- **ファイルオブジェクト**
  - ファイルへの読み書きを行うためのオブジェクト。
- **シンボルオブジェクト**
  - Ruby がメソッドなどの名前の識別に使うラベルを表すオブジェクト。

### クラス（class）
- **クラス**とはオブジェクトの種類を表すもの。オブジェクトがどのような性質を持つのかは、オブジェクトが属するクラスによって決められる。

|**オブジェクト**   |**クラス**   |
|---|---|
|数値   |Numeric   |
|文字列   |String   |
|配列   |Array   |
|ハッシュ   |Hash   |
|正規表現   |Regexp   |
|ファイル   |File   |
|シンボル   |Symbol   |

- 〇〇クラスのオブジェクトのことを、「〇〇クラスの**インスタンス**」ということがある。Ruby の場合、**すべてのオブジェクトは何かのクラスのインスタンス**なので、インスタンスという言葉はオブジェクトとほとんど同じ意味で使われている。
- 一方、あるオブジェクトが、あるクラスに属していることを強調する場合には、「**インスタンス**」がよく使われる。たとえば、「文字列オブジェクト`foo`は`String`クラスのインスタンスである」という。

### 変数の種類
- Ruby には、4種類の変数がある。
  - **ローカル変数（局所変数）**
  - **グローバル変数（大域変数）**
  - **インスタンス変数**
  - **クラス変数**
- ある変数がどの種類の変数なのかは、変数名で決まる。
  - **ローカル変数**：先頭がアルファベットの小文字か`-`で始まる。
  - **グローバル変数**：先頭が`$`で始まる。
  - **インスタンス変数**：先頭が`@`で始まる。
  - **クラス変数**：先頭が`@@`で始まる。
- 上記の4つの変数のほかに**擬似変数**と呼ばれる変数がある。擬似変数は`nil`, `true`, `false`, `self`など、特定の値を指し示すために予約された名前で、代入することによって値を変更することはできない。

### 定数
- **定数**は、変数と同様にあるオブジェクトに付ける「名札」の働きをするが、変数とは違って、一度代入したあとでもう一度同じ定数に代入すると警告される。プログラム上で何度も参照される変更しない値に名前を付けるときに使う。
```ruby
% irb --simple-prompt
>> TEST = 1
=> 1
>> TEST = 2
(irb):2: warning: already initialized constant TEST
(irb):1: warning: previous definition of TEST was here
=> 2
```

### 予約語
- 以下の語は、名前として使う場合に制限がある。こういった使用が制限されている名前を**予約語**という。`end`や`next`といった変数を作ると構文エラーになってしまう。

<a href="https://bootcamp.fjord.jp/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBMThiQkE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--41eec18c61065644669ae8059374ef8253da83d2/IMG_3543.jpeg" target="_blank" rel="noopener noreferrer"><img src="https://bootcamp.fjord.jp/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBMThiQkE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--41eec18c61065644669ae8059374ef8253da83d2/IMG_3543.jpeg" width="2101" height="835" alt="IMG_3543.jpeg"></a>

```ruby
# 実行例
% irb --simple-prompt
>> end = 1
/Users/yoshiwo/.rbenv/versions/3.3.1/lib/ruby/3.3.0/irb/workspace.rb:117:in `eval': (irb):1: syntax error, unexpected `end' (SyntaxError)
end = 1
^~~
```

### 多重代入
- 複数の変数への代入を1つの式で一度に行うことができる。この機能を**多重代入**という。


---


## ✍🏻 感想
### 🏋🏻 学びを積み重ねていく楽しさ
`nil`・`ARGV`・`require`・`オブジェクト`・`クラス`といった Ruby の基礎を支える要素をまとめて学びました。一つ一つの用語や仕組みを整理しながら進めることで、以前よりも「Ruby全体の構造」が見えてきたように感じます（思い込みかもしれませんが）。

まだ一つ一つの概念を整理している段階ですが理解のピースが少しずつ繋がっていく感覚が楽しく、学習を続けるモチベーションになっています。


---


## ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 hours 29 min
- Total: 1368 hours 13 min
