# 2025/09/26(金)
## 📚 プラクティス『lsコマンドを作る1』

:::details 🎯 学習の狙い
- 標準出力について学ぶ
- 標準ライブラリの使い方を学ぶ
- Enumeratorには、each以外に便利なメソッドがあることを学ぶ
- RailsじゃないRubyプログラミングを学ぶ
- メソッド分割を学ぶ
- わかりやすい変数名メソッド名を学ぶ
- 大きな問題を分割する力を学ぶ
:::

:::details 📌 要件（Docs：lsコマンドを作る 参照）
- [ ] オプション（`-a`や`-r`など）を付けず、且つ引数（フォルダのパス）も指定せずに実行する
- [ ] そのまま実行すると、今いるフォルダ（カレントディレクトリ）の中身を表示する
- [ ] `gem`は使わずに Ruby の標準ライブラリだけで作ること
- [ ] 完成したコードは GitHub の Pull Request として提出すること
- [ ] `rubocop-fjord`でデバッグを実行し、全てパスさせること
- [ ] 2つ以上のメソッドを自分で定義すること
- [ ] 表示は横に最大3列になるようにレイアウトすること
  - 3, 6, 9, 12のように3の倍数の件数だけでなく、最後の列に空欄ができるケースの結果も載せる
  - 「3列から5列に仕様変更してください」または「3列から100列に変えてください」とあとから言われても必要最小限の変更で対応できるようなロジックにしておくこと
:::

:::details 📑 全体の設計 （⚠️ ネタバレに注意）
#### 1. ファイルの取得（ソート含む）
- 入力：検索パターン
- 処理：`Dir.glob`で指定パターンに合うファイルやディレクトリを取得し、並び替え
- 出力：ファイル・ディレクトリ一覧（配列でまとめたもの）

#### 2. 行数の計算
- 入力：ファイル（要素）を配列でまとめたものと列数
- 処理：`行数 = (要素の数 ÷ 列数).ceil`で余りを切り上げる
- 出力：行数（Integer = 整数）

#### 3. 要素一つ一つを縦に配置
- 入力：ファイル（要素）を配列でまとめたもの、行数・列数
- 処理：①行ごとの配列を作る　②各列に要素を縦に配置　③インデックス計算：`index = row + column * rows`
- 出力：縦詰めに並んだ配列

#### 4. 配置を整える
- 入力：縦詰めに並んだ要素
- 処理：タブ文字（`join("\t")`）を使用して見やすく整える
- 出力：整えられた文字列
:::

:::details 🧩 タスクばらし ※ 随時、追加・変更あり
- [x] タスク1：開発の準備（テストフォルダ）
  - [x] ToDo：作業用フォルダを用意し、その中にダミーファイルをいくつか置く
  - [x] 作業時間： 30分
  - [x] 終了条件：テストフォルダにファイルがある

- [x] タスク2：全体設計
  - [x] ToDo：「主要な処理」を列挙する
  - [x] 作業時間：60分
  - [x] 終了条件：主要な処理（要件）を一つずつ列挙すること

- [x] タスク3：ファイルの取得とソート（並び替え）
  - [x] ToDo：`.`や`..`から始まるファイルや隠しファイルは出力させないようにする
  - [x] 作業時間：60分
  - [x] 終了条件：期待している並び順になっていること

- [x] タスク4：行数・列数のロジックを考える（余りの切り上げを用いる）
  - [x] ToDo：先ずは列数を3列に決め、行数が切り上げになること
  - [x] 作業時間：60分
  - [x] 終了条件：列数や要素の数を変更しても期待どおりになっていること

- [x] タスク5：縦詰めにロジックをメソッド化
  - [x] ToDo：縦詰めに変換するメソッドを実装し、期待どおりなっていること
  - [x] 作業時間：90分
  - [x] 終了条件：縦詰めの出力が期待どおりであること

- [x] タスク6：列幅を揃える
  - [x] ToDo：タブ文字を用いて文字列同志の幅を整える
  - [x] 作業時間：90分
  - [x] 終了条件：実際に見て読みやすくなっていること

- [ ] ✨New タスク7：2つ以上のメソッドを自分で定義する
  - [ ] ToDo：「何をやるか」に名前を付けて、後で呼び出せるようにする
  - [ ] 作業時間：240分
  - [ ] 終了条件：mainメソッドともう一つのメソッド2つを定義すること

- [ ] タスク8：rubocop-fjord に通す
  - [ ] ToDo：rubocop-fjord 通して出力されたエラーを一つずつ直していく
  - [ ] 作業時間：数時間？エラーの内容によりけり
  - [ ] 終了条件：rubocop-fjord の警告・エラーが発生していないこと

- [ ] タスク9：提出
  - [ ] ToDo：作成した lsコマンドを Pull Request として提出
  - [ ] ToDo：提出物にlsコマンドの実行結果とOS標準（macなど自分の使ってるOS）のlsコマンドをのスクリーンショットを併記して貼る
  - [ ] ToDo：rubocop-fjord のチェックが全てパスした画面をスクショして添付
  - [ ] 作業時間：60分
  - [ ] 終了条件：メンターさんに課題を提出すること
:::

:::details 🔰 基礎をおさらい
- [ ] 書籍『ゼロからわかる Ruby超入門』
  - [x] 7 - 1 メソッドを作って呼び出す
  - [x] 7 - 2 メソッドへオブジェクトを渡す
  - [x] 7 - 3 引数の便利な機能を使う
  - [x] 7 - 4 変数には見える範囲がある
  - [ ] 練習問題 CHAPTER 2
  - [ ] 練習問題 CHAPTER 3
  - [ ] 練習問題 CHAPTER 4
  - [ ] 練習問題 CHAPTER 5
  - [ ] 練習問題 CHAPTER 6
  - [ ] 練習問題 CHAPTER 7
  - [ ] 練習問題 CHAPTER 8
  - [ ] 練習問題 CHAPTER 9
  - [ ] 練習問題 CHAPTER 10
:::


---


### 🧑🏻‍💻 本日の取り組み
#### 📕 書籍『ゼロからわかる Ruby超入門』
- 練習問題 CHAPTER 7


---


### ⏭️ 次回
#### 📕 書籍『ゼロからわかる Ruby超入門』
- 練習問題 CHAPTER 7


---


### 💡 本日の学び・気付き
#### 練習問題
##### 7 - 3 問5
**問3で作った diceメソッドを変更します。サイコロを振って1が出たら「もう1回」と表示し、さらにサイコロをもう一度振り直すようにしてください。**
```ruby
def dice
  result = [1, 2, 3, 4, 5, 6].sample
  return result unless result == 1
  puts "もう1回"
  [1, 2, 3, 4, 5, 6].sample
end

puts dice
```
1. `def dice`
- diceメソッドを定義。
2. `result = [1, 2, 3, 4, 5, 6].sample`
- 配列[1, 2, 3, 4, 5, 6]からランダムに1つ選んで（`.sample`）、その値をローカル変数`result`に代入。
3. `return result unless result == 1`
- `result`が`1`**ではない**場合はここでメソッドを終わらせ、`result`を返す。
- つまり最初に振ったサイコロが`2〜6`の場合はここで即座に終了（`return`）する。
4. `puts "もう1回"`
- 最初に振ったサイコロの結果（`result`）が`1`のとき`"もう1回"`が出力される。
5. `[1, 2, 3, 4, 5, 6].sample`
- もう一度、配列[1, 2, 3, 4, 5, 6]からランダムに1つ選ぶ。
6. `end`
- diceメソッドの定義の終了。
7. `puts dice`
- diceメソッドを呼び出して実行し、戻り値を返す。
- 最初が 1 でなければ出力は数値 1 行のみ。もし 1 なら`"もう1回"`が出力され、その次の行にランダムに選ばれた数値が出力される。

##### 7 - 4 問6
**品物の値段を返す priceメソッドを作ります。キーワード引数で item を返し、item が”コーヒー”のときは 300 を、”カフェラテ”のときは 400 を戻り値として返してください。**
###### 書き方①
```ruby
def price(item:)
  items = { "コーヒー" => 300, "カフェラテ" => 400 }
  items[item]
end

puts price(item: "コーヒー")
puts price(item: "カフェラテ")
```
1. `def price(item:)`
- priceメソッドを定義。
- `item:`はキーワード引数。
2. `items = { "コーヒー" => 300, "カフェラテ" => 400 }`
- ローカル変数`items`にハッシュを代入。ハッシュは`"コーヒー"`をキーに`300`を、`"カフェラテ"`をキーに`400`を対応させている。
- `=>`はハッシュロケットと呼ぶ。
3. `items[item]`
- ハッシュが代入された変数`items`から引数`item`（例：`"コーヒー"`）に対応する値を取得する。該当するキーがあればその数値（`300`や`400`）を返す。
4. `end`
- priceメソッドの定義の終了。
5. puts price(item: "コーヒー")
- priceメソッドを呼び出し（`item`に`"コーヒー"`を渡す）、戻ってきた値（`300`）を`puts`で出力する。
6. puts price(item: "カフェラテ")
- 同様に`price(item: "カフェラテ")が`400`を返し、それを`puts`で出力する。

###### 書き方②
```ruby
def price(item:)
  case item
  when "コーヒー"
    300
  when "カフェラテ"
    400
  end
end

puts price(item: "コーヒー")
puts price(item: "カフェラテ")
```
1. `case item`
- `case`文の開始。
2. `when "コーヒー"`
- 変数`item`の値が`"コーヒー"`のときの処理が実行される。
3. `when "カフェラテ"`
- 変数`item`の値が`"カフェラテ"`のときの処理が実行される。
4. `end`
- `case`文の終了。
5. `end`
- `price`メソッドの定義終了。



###### 書き方③
```ruby
def price(item:)
  if item == "コーヒー"
    300
  elsif item == "カフェオレ"
    400
  end
end

puts price(item: "コーヒー")
puts price(item: "カフェオレ")
```
1. `if item == "コーヒー"`
- `if`文の開始。もし変数`item`が`"コーヒー"`ならば以下の内容を処理する。
2. `elsif item == "カフェオレ"`
- もし変数`item`が`"カフェオレ"`ならば以下の内容を処理する。


---


### ✍🏻 感想
今日は**メソッドの条件分岐と引数の扱い方**を練習しました。
- サイコロの例では「条件によって処理を変える」ことがよく理解できました。
- priceメソッドを用いた問題では、**ハッシュ・case文・if文の違いと使い分け**を意識する良い練習になりました。

メソッドを作れないことをきっかけに、Ruby の基礎をもう一度丁寧に学び直しています。一つずつ整理してコードを書き、さらに書いたコードを自分の言葉で説明することで、**コードが動く仕組み**が理解しやすくなります。

プラクティスを早くパスしたい気持ちはありますが、焦らず時間をかけて基礎をしっかり押さえていきます。

---


### ⏰ 学習時間
- Today:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 hours 12 min
- Total: 1314 hours 33 min
